[{"authors":["admin"],"categories":null,"content":"Dr Tom Palmer, Senior Lecturer in Biostatistics\n","date":1718815500,"expirydate":-62135596800,"kind":"term","lang":"en","lastmod":1718815500,"objectID":"2525497d367e79493fd32b198b28f040","permalink":"https://remlapmot.github.io/author/tom-palmer/","publishdate":"2024-06-19T16:45:00Z","relpermalink":"/author/tom-palmer/","section":"authors","summary":"Dr Tom Palmer, Senior Lecturer in Biostatistics\n","tags":null,"title":"Tom Palmer","type":"authors"},{"authors":[],"categories":["Blog"],"content":"Introduction When I\u0026rsquo;m switching projects I naturally start with Finder. I\u0026rsquo;m sure if I became a Terminal warrior there are faster ways of searching for files (e.g. the Television fuzzy finder TUI). And I know there are other ways to avoid using Finder, e.g., using Spotlight, Alfred, or Raycast; and indeed I do have this fantastic tip that allows Alfred to find RStudio project files setup. But something to do with how I learnt to use a computer just naturally means I\u0026rsquo;m wedded to Finder, but navigating through my mess of nested directories wastes time and energy.\nI realised that Finder on macOS has a helpful feature called Smart Folders. We can use this to setup a saved search of RStudio Project .Rproj files (and/or VSCode/Positron .code-workspace files) to allow us to see all the .Rproj files on our computer. This makes finding and opening projects from within Finder fast and convenient.\nSetting up a Smart Folder of your RStudio project files In Finder;\nnavigate to the folder you want your search to start in, either your home folder or your Documents folder are obvious candidates click File | New Smart Folder near the top right corner click the plus button next to the Save button. we need to add the File extension attribute to the choices, click Name near the top left, then Other\u0026hellip; Then search for File extension and check the box on the right handside enter Rproj in the box (it doesn\u0026rsquo;t seem to matter if you include the . first) click Save (near top right corner) and give it a sensible name, e.g., Rproj.savedSearch And you\u0026rsquo;ll see the new virtual folder appear on the left Finder sidebar - see the screenshot at the top of this post.\nYou can create additional Smart Folders for other useful file extensions, for example, VSCode/Positron project files (.code-workspace files).\nOn Windows, I don\u0026rsquo;t believe that there is an exact equivalent of a Smart Folder. I think that the closest you can get is to save a search in File Explorer. However, I find that in recent years File Explorer on Windows 11 has become incredibly slow and regularly crashes. Searching in Files or File Pilot is now much faster and more reliable.\nSummary I have shown how to create a Smart Folder of your RStudio Project files for fast and convenient project launching on macOS.\n","date":1740096000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1740124800,"objectID":"836a6a24b5050264f7b3daee374c2f87","permalink":"https://remlapmot.github.io/post/2025/smart-folders/","publishdate":"2025-02-21T00:00:00Z","relpermalink":"/post/2025/smart-folders/","section":"post","summary":"Create a Finder Smart Folder showing all your RStudio (and/or your VSCode/Positron) project files so you can switch between your projects fast and conveniently.","tags":["R","RStudio","Positron","VSCode","macOS"],"title":"Creating a Finder Smart Folder of your RStudio Project files to enable super fast project launching","type":"post"},{"authors":[],"categories":["Blog"],"content":"Introduction I regularly need to produce exercises/tutorials for my students. One fantastic feature of R Markdown is that it allows me to create one R Markdown document which can be rendered to both the question document and the solutions document. This is achieved by toggling knitr chunk options such as eval, echo, and include, and using asis chunks to include the text for the solutions. I wrote a little package, knitexercise to help with this.\nThe toggling of the knitr chunk options can be parameterised making it possible to have an R script which contains the code to conveniently produce both questions and solutions documents. An example R Markdown file, exercise.Rmd, might look like the following.\n--- title: \u0026quot;`r params$title`\u0026quot; output: html_document params: solutions: TRUE title: \u0026quot;Example exercise: Solutions\u0026quot; --- ```{r setup, include=FALSE} knitr::opts_chunk$set(include = params$solutions) ``` 1. This is question 1. Which might have some R code you always want to show. ```{r, include=TRUE} # example code for the question ``` ```{asis} Paragraph text for the solution can be kept in the document in an `asis` chunk. And solution R code in an `r` chunk. Both of these will use the `include` value from the `setup` chunk. ``` ```{r} # example code for the solution ``` 2. This is question 2 ... And the rendering script might look like this.\nrmarkdown::render(\u0026quot;exercise.Rmd\u0026quot;, output_file = \u0026quot;exercise-questions\u0026quot;, params = list(solutions = FALSE, title = \u0026quot;Example exercise: Questions\u0026quot;) ) rmarkdown::render(\u0026quot;exercise.Rmd\u0026quot;, output_file = \u0026quot;exercise-solutions\u0026quot; ) Inline code Inline code has been a feature of R Markdown for a while. Yihui Xie and Christophe Dervieux have used it to pull off some fantastic tricks. My favourite trick is using it to programmatically write out R Markdown/Markdown code within an R Markdown document when a certain condition is met.\n`r if (knitr::is_latex_output()) \u0026quot;...some_Markdown_to_include_when_rendering_to_pdf...\u0026quot;` The problem R Markdown is incredibly flexible because we can include R objects as document and chunk options. When translating this to a pure Quarto version we can do this in a document using in the knitr engine using the ! expr ... YAML tag literal. As far as I am aware, this is not yet possible for any other Quarto engine. Despite this my aim was to see whether I could achieve parameterised conditional content inclusion/exclusion in a Quarto document using other engines.\nProgrammatically including conditional content in Quarto documents R: knitr and Quarto I have already shown the R Markdown approach above.\nFor Quarto using the knitr engine, in a blog post Nicola Rennie used inline code to write out Quarto\u0026rsquo;s conditional content classes.\n--- format: html params: hide_answers: true engine: knitr --- `r if (params$hide_answers) \u0026quot;::: {.content-hidden}\u0026quot;` Text and code for answers. `r if (params$hide_answers) \u0026quot;:::\u0026quot;` Note that if you use the curly braces around the r to write you inline code then you need to enclose the output string in the I() function and include the else statement as follows.\n`{r} if (params$hide_answers) I(\u0026quot;::: {.content-hidden}\u0026quot;) else \u0026quot;\u0026quot;` Then we can have a shell script to render our questions and solutions documents as follows.\nquarto render exercise-r.qmd -o exercise-r-questions.html quarto render exercise-r.qmd -P hide_answers:false -o exercise-r-solutions.html Python I realised I could adapt Nicola Rennie\u0026rsquo;s approach for other engines. For the jupyter: python3 engine we can do so as follows, the following code uses Quarto\u0026rsquo;s parameters feature.\n--- format: html jupyter: python3 --- ```{python} #| include: false #| tags: [parameters] hide_answers = True ``` ```{python} #| include: false from IPython.display import Markdown ``` `{python} Markdown(\u0026quot;::: {.content-hidden}\u0026quot;) if hide_answers else Markdown(\u0026quot; \u0026quot;)` ```{python} print(\u0026quot;Hidden in questions\u0026quot;) ``` `{python} Markdown(\u0026quot;:::\u0026quot;) if hide_answers else Markdown(\u0026quot; \u0026quot;)` The shell script to render our questions and solutions documents is as follows.\nquarto render exercise-python.qmd -o exercise-python-questions.html quarto render exercise-python.qmd -P hide_answers:False -o exercise-python-solutions.html The only problem with this is that currently the Papermill output cell about the injected parameters is printed in the document.\nIn Jupyter this can apparently be suppressed by passing the --report-mode flag, but I couldn\u0026rsquo;t work out how to do that in Quarto. I believe it will be possible to suppress this output in future versions of Quarto (I\u0026rsquo;m using the current latest release version of Quarto 1.6.40).\nStata The Stata case involved two additional tricks. First, the nbstata Jupyter kernel allows inline code, however this must be a display command, so we cannot write the if statement within the inline code. I found I can overcome this by saving the different strings in scalars (because the inline code can\u0026rsquo;t use local macros) at the top of the document as follows. Second, I didn\u0026rsquo;t try but I suspect the nbstata kernel doesn\u0026rsquo;t support parameters, and so I achieved the toggling of the code using an environmental variable, e.g. HIDE_ANSWERS_STATA.\n--- format: html jupyter: nbstata --- ```{stata} *| include: false local hide_answers : env HIDE_ANSWERS_STATA if (`hide_answers') { scalar hide_answers_open = \u0026quot;::: {.content-hidden}\u0026quot; scalar hide_answers_close = \u0026quot;:::\u0026quot; } else { scalar hide_answers_open = \u0026quot; \u0026quot; scalar hide_answers_close = \u0026quot; \u0026quot; } ``` `{stata} scalar(hide_answers_open)` ```{stata} display \u0026quot;Hidden in questions\u0026quot; ``` `{stata} scalar(hide_answers_close)` The shell script to render the documents is then as follows, here we define the environment variable before the call to quarto.\nHIDE_ANSWERS_STATA=1 quarto render exercise-stata.qmd -o exercise-stata-questions.html HIDE_ANSWERS_STATA=0 quarto render exercise-stata.qmd -o exercise-stata-solutions.html Julia For the native Julia engine I found that Quarto\u0026rsquo;s parameterisation worked and that I could avoid the inclusion of the injected parameters cell output by leaving the chunk with the parameters tag empty.\n--- format: html engine: julia --- ```{julia} #| tags: [parameters] ``` ```{julia} #| include: false using Markdown ``` `{julia} hide_answers ? md\u0026quot;::: {.content-hidden}\u0026quot; : md\u0026quot;\u0026quot;` ```{julia} println(\u0026quot;Hidden in questions\u0026quot;) ``` `{julia} hide_answers ? md\u0026quot;:::\u0026quot; : md\u0026quot;\u0026quot;` The shell script to render the documents is then as follows.\nquarto render exercise-julia.qmd -P hide_answers:true -o exercise-julia-questions.html quarto render exercise-julia.qmd -P hide_answers:false -o exercise-julia-solutions.html Problems with environment variables I found that passing environment variables, to the jupyter: python3 and engine: julia is unreliable/broken. Admittedly, I was not using Quarto in project mode with an _environment file, but honestly it doesn\u0026rsquo;t feel to me I should need to do that for a single document.\nThe problem I found was that after a first render the value of the environment variable seems to be cached within the Quarto output document and I couldn\u0026rsquo;t change it on subsequent renders. I also found that using the dotenv package to access was broken in the same way.\nFor engine: julia I also found that passing environment variables is unreliable and like for the jupyter: python3 engine I experienced environment variable values being stuck after the first render. However, using the Julia DotEnv package did seem to be reliable.\nSummary I have shown how to programmatically include conditional content for several Quarto engines (knitr, jupyter: python3, jupyter: nbstata, and engine: julia) using parameters or environment variables to toggle inline code to write Quarto Markdown in the Quarto documents. I use this to write exercise/tutorial documents in which a single Quarto document is used to output both the questions and solutions documents.\n","date":1739836800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1739876400,"objectID":"57ff45cf1d7affab3767b03c16f26ffc","permalink":"https://remlapmot.github.io/post/2025/quarto-conditional-content/","publishdate":"2025-02-18T00:00:00Z","relpermalink":"/post/2025/quarto-conditional-content/","section":"post","summary":"How to programmatically include conditional content for several Quarto engines (knitr, jupyter: python3, jupyter: nbstata, and engine: julia) using parameters or environment variables to toggle inline code to write Markdown in the Quarto documents. I use this to write exercise/tutorial documents in which a single Quarto document is used to output both the questions and solutions documents.","tags":["Quarto","R","R Markdown","Stata","Python","Julia","Jupyter"],"title":"Creating R, Python, Stata, and Julia tutorial worksheets (with and without solutions) using Quarto","type":"post"},{"authors":[],"categories":["Blog"],"content":"Introduction Have you ever needed to present the code and output for several languages in the same document or website? I work in (non-infectious disease) Epidemiology and so it is common that researchers would like to present R and Stata code in the same document. However, a Quarto document can only run a single engine. There are already several work around solutions, which include:\nwriting out the different language code cells but making them unevaluated/not executed chunks (this is done alot on the Quarto documentation website). One can also include saved plots from the different languages; if your document has a combination of languages from which you can call one from the other, such as using reticulate from within R to run Python, or using Statamarkdown from within R to run Stata, or using JuliaCall from within R to run Julia, then these can be combined in a Quarto document; or for some languages like R and Python we could even embed full WebAssembly implementations of the language ( WebR and Pyodide respectively) within a webpage (which admittedly seems a little overkill for my work). I\u0026rsquo;ve found an alternative solution allowing you to use the native engines for each language. I recently stumbled across Quarto\u0026rsquo;s embed shortcode. This allows another (or selected cells from another) Quarto document to be embedded in a Quarto document. A thought occurred to me, what if the embedded Quarto document/s used a different engine? Would that work? This isn\u0026rsquo;t explicitly mentioned on the documentation page, so I gave it a go. Remarkably, the answer turns out to be that it works! Let\u0026rsquo;s find out what to do.\nUsing the embed shortcode to create an effectively multi-engine Quarto document In the example below I\u0026rsquo;m using a tabset in a html document using the knitr engine. We embed the documents using the alternative engines for Python, Stata, and Julia using the {{\u0026lt; embed \u0026gt;}} shortcode as shown below. For each language I just show printing a string and a basic plot.\n--- title: An effectively multi-engine Quarto document using the embed shortcode format: html: embed-resources: true engine: knitr --- ::: {.panel-tabset .nav-pills} ## R ```{r} print(\u0026quot;Hello World, from R\u0026quot;) ``` ```{r} #| fig-align: \u0026quot;center\u0026quot; x \u0026lt;- seq(-10,10, by = 0.1) y \u0026lt;- x ^ 3 plot(x, y, type = \u0026quot;l\u0026quot;) ``` ## Python {{\u0026lt; embed python-code-using-jupyter-python3-engine.qmd echo=true \u0026gt;}} ## Stata {{\u0026lt; embed stata-code-using-jupyter-nbstata-engine.qmd echo=true \u0026gt;}} ## Julia {{\u0026lt; embed julia-code-using-julia-engine.qmd echo=true \u0026gt;}} ::: the python-code-using-jupyter-python3-engine.qmd document uses the jupyter: python3 engine ( documentation for using Python in Quarto); the stata-code-using-jupyter-nbstata-engine.qmd document uses the jupyter: nbstata engine ( documentation for nbstata); and the julia-code-using-julia-engine.qmd uses engine: julia. Alternatively, it should be possible to use the IJulia Jupyter kernel ( documentation for using Julia in Quarto) Of course, I assume that you have setup each engine beforehand.\nRendering the Quarto document above results in the embedded documents being executed and embedded within it. I\u0026rsquo;ve included the output below (and the full source code is in this repository). Click the tabs to show the code and output for each language.\nIn the code above, in each case, I embed the whole Quarto document but you can also specify a specific code block id (or if the embedded document is a Jupyter Notebook, .ipynb file, you can specify a cell id, label, or tag).\nSummary I have shown how to use the Quarto embed shortcode to embed Quarto documents using alternative engines to create an effectively multi-engine Quarto document.\n","date":1739577600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1739707200,"objectID":"bcd719f6fe81b04f3eb84c4b1fcad745","permalink":"https://remlapmot.github.io/post/2025/multi-engine-quarto/","publishdate":"2025-02-15T00:00:00Z","relpermalink":"/post/2025/multi-engine-quarto/","section":"post","summary":"Have you ever wanted to include different language engines within the same Quarto document such that the code chunks are executed when the document is rendered? I describe how to achieve this using Quarto's embed shortcode.","tags":["Quarto","R","Stata","Python","Julia","Jupyter"],"title":"Creating effectively multi-engine Quarto documents using Quarto's embed shortcode","type":"post"},{"authors":[],"categories":["Blog"],"content":"Introduction Like alot of lecturers I\u0026rsquo;m teaching at the moment. If I have a presentation to do that\u0026rsquo;s mainly images I\u0026rsquo;ll use Powerpoint or Google Slides. If the presentation includes maths or code or both I used to use LaTeX Beamer. Over the years I have grown tired of Beamer and so I thought I\u0026rsquo;d try making some revealjs presentations using Quarto.\nRevealjs has been around far longer than Quarto, I remember seeing a colleague present using revealjs in about 2012, and you can happily make a revealjs presentation without Quarto. However, the convenience of writing in the Quarto Markdown format is fantastic.\nTo learn the basics of making revealjs slides with Quarto I recommend reading the user guide. And full documentation is available here and here.\nThe following tips are solutions to little hurdles that I found I needed to overcome when making my first revealjs presentations using Quarto.\n1. Slide size and testing on a smaller display size on your own monitor The great thing about making a presentation in Powerpoint or Google Slides is that you can instantly see if your content fits on a slide. So it helps to have an understanding of how big a slide is. By default a revealjs slide is 1050px wide by 700px tall. This helps you when setting the size of figures and code blocks.\nAdditionally it is helpful to be able to preview your slides on the size on monitor you will be presenting on. My University has 1080p monitors in most lecture theatres, however, my monitor is bigger than that. Chrome allows setting the size of the display by opening Developer Tools (Three dots | More tools | Developer Tools). Then you can enter the desired resolution in the top bar as follows (a 1080p screen is 1080 pixels tall and 1920 pixels wide).\nI find this especially helpful when working on a Mac, whose laptops often have unusual screen resolutions.\n2. Wider width cutoff in code chunks Vertical space on a slide is at a premium. Therefore, in a presentation I line break my code wider that I do when coding normally. As described in the RMarkdown cookbook and in this GitHub issue we can enable the use of the formatR package on a code chunk using the tidy and tidy-opts chunk options (I think the default is 85 characters, so I choose a value greater than that. I find that 110 is about the widest I can set).\n```{r} #| tidy: TRUE #| tidy-opts: !expr list(width.cutoff = I(110)) # ... Wide R code here ... ``` We can also set these globally for the Quarto document in either the YAML header,\nknitr: opts_chunk: tidy: TRUE tidy-opts: !expr list(width.cutoff = I(110)) or in a chunk at the top of your Quarto document.\n```{r} #| include: false knitr::opts_chunk$set(tidy = TRUE, tidy.opts = list(width.cutoff = I(110))) ``` 3. Taller code chunks Code chunks come in several flavours in a rendered presentation. There are code input chunks, code output chunks, and chunks for any code output errors. To make the input code chunks taller there is a convenient Quarto option code-block-height which is specified in the YAML header (the default is 500px, so pick a value greater than that).\n--- format: revealjs: code-block-height: 650px --- 4. Taller code output chunks Currently, there doesn\u0026rsquo;t seem to be a Quarto option to make the code output chunks taller. Therefore I had to inspect the source code of the html slides to find out how to modify this. In most browsers simply right click on a slide and in Chrome click Inspect - do this over the element on the page you want to find out about.\nDoing so over a code output cell shows the developer tools on the right handside. We can then see that the elements and classes for the code output cell are given just above the bottom right pane, i.e., div.cell div.cell-output.cell-output-stdout pre code.\nTherefore, we can make the code output cell have a taller maximum height by specifying max-height as follows in a CSS file which we reference in the YAML header. Note that the default is 400px, so choose a value larger than that.\n--- format: revealjs: css: custom.css --- The contents of custom.css use the elements and classes of the code chunk we discovered as follows.\n.cell .cell-output-stdout pre code { max-height: 650px; // Adjust this value as needed overflow-y: auto; // Add this to handle overflow } 5. Embedding interactive Mentimeter presentations Mentimeter provides the html code required to embed a presentation within an html document. To obtain this, go into a presentation and click the Share button, then select the Slides tab, then click Copy code under Embed slides.\nThis results in a div containing an iframe, which we can simply paste in as the content of our slide (I have added the line breaks and replaced part of the URL to my presentation with hashes).\n## My slide with an embedded Menti \u0026lt;div style='position: relative; padding-bottom: 56.25%; padding-top: 35px; height: 0; overflow: hidden;'\u0026gt; \u0026lt;iframe sandbox='allow-scripts allow-same-origin allow-presentation' allowfullscreen='true' allowtransparency='true' frameborder='0' height='315' src='https://www.mentimeter.com/app/presentation/###############/embed' style='position: absolute; top: 0; left: 0; width: 100%; height: 100%;' width='420'\u0026gt; \u0026lt;/iframe\u0026gt; \u0026lt;/div\u0026gt; But when I first rendered a presentation using this code I didn\u0026rsquo;t see my Mentimeter presentation in the relevant slide but rather the following spinning dots.\nThanks to this post it turns out this is because I had specified embed-resources: true in my revealjs options in the YAML header. When you do this you need to add the data-external=\u0026quot;1\u0026quot; attribute to the iframe as detailed in the Quarto documentation as follows.\n\u0026lt;iframe data-external=\u0026quot;1\u0026quot; sandbox=... And then my Mentimeter presentation was correctly embedded in the slide as per the screenshot at the top of this post.\n6. Disable HTML table processing for some tables There are now so many fantastic R packages for html table generation. My two favourite are gtsummary and sjPlot. However, I notice that for some sjPlot tables Quarto issues the following warning when rendering the slides.\nWARNING (/Applications/quarto/share/filters/main.lua:9319) Unable to parse table from raw html block: skipping. To avoid this it\u0026rsquo;s possible to disable Quarto\u0026rsquo;s html table processing using the html-table-processing argument either at the document or chunk level. Here is an example slide doing so at the chunk level.\n## Slide presenting a multilevel model ```{r} #| html-table-processing: none library(sjPlot) library(lme4) fm1 \u0026lt;- lmer(Reaction ~ Days + (Days | Subject), sleepstudy) tab_model(fm1) ``` 7. Programmatic rendering and pdf export for printing To render a Quarto document we can click the Render button in RStudio, but I find it easier to make a render.R script with a call to the quarto package\u0026rsquo;s quarto_render() function.\nIt\u0026rsquo;s helpful to provide students with a pdf copy of the slides for printing. You can do this in a browser through the print menu or programmatically using pagedown\u0026rsquo;s chrome_print() function. When I called this function with no options the page size of the pdf was unusual, producing pages with neither A4 nor US paper size, so I call it as follows to ensure an A4 page size.\nTherefore, my render.R script often looks something like the following.\nquarto::quarto_render(input = \u0026quot;my-great-slides.qmd\u0026quot;) pagedown::chrome_print(\u0026quot;my-great-slides.html\u0026quot;, options = list( printBackground = FALSE, preferCSSPageSize = FALSE, paperWidth = 8.3, paperHeight = 11.7, marginTop = 0.1, marginBottom = 0.1, marginLeft = 0.1, marginRight = 0.1)) I usually find that a few slides have slightly too much content for an A4 page, and so those slides will take up 2 pages in the pdf. And hence the pdf usually has a few more pages than the number of slides.\nSummary I have shown seven tips that I needed to workout when making revealjs presentations with Quarto.\n","date":1737244800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1737293700,"objectID":"f56d4938ebe4694d84ecebdbb0c9adb0","permalink":"https://remlapmot.github.io/post/2025/quarto-revealjs-tips/","publishdate":"2025-01-19T00:00:00Z","relpermalink":"/post/2025/quarto-revealjs-tips/","section":"post","summary":"Seven tips for making Quarto revealjs presentations including; testing at a different screen resolution, wider code styling, taller input and output code chunks, embedding Mentimeter presentations, disabling HTML table processing, and programmatic rendering and exporting pdfs for printing.","tags":["Quarto","R","revealjs"],"title":"Seven tips for creating Quarto revealjs presentations","type":"post"},{"authors":[],"categories":["Blog"],"content":"My #GitHubUnwrapped 2024!\nMade with https://www.githubunwrapped.com/.\n","date":1736294400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1736331780,"objectID":"accef4f6d825e6e6d3e3ed684544bde3","permalink":"https://remlapmot.github.io/post/2025/github-unwrapped-2024/","publishdate":"2025-01-08T00:00:00Z","relpermalink":"/post/2025/github-unwrapped-2024/","section":"post","summary":"My #GitHubUnwrapped 2024!","tags":["GitHub"],"title":"My #GitHubUnwrapped 2024!","type":"post"},{"authors":[],"categories":["Blog"],"content":"Introduction Have you ever wanted to be able to quickly open a Data Science app, say RStudio Desktop or Positron in the current Finder window at the click of a button? We\u0026rsquo;ll see how to achieve this by creating Automator apps. Here\u0026rsquo;s a screenshot of what we\u0026rsquo;ll end up with.\nCreating the Automator apps Open Automator and select New then Application and click Choose. Then in the top left search bar enter applescript and drag and drop the Run Applescript action onto the main window.\nWe then need to enter the relevant AppleScript code for launching each app in the current Finder window. Currently, I use WezTerm for my terminal emulator, Zed as my main text editor, RStudio Desktop for most of my R/R Markdown/Quarto coding, Visual Studio Code for other text editing tasks, and I have been starting to try out Positron. My AppleScript code for each app is as follows.\nRStudio Desktop It is worth noting that RStudio automatically detects whether there is an .Rproj file in the directory and opens in project mode if one is found (note this only works if RStudio is not already open).\non run {input, parameters} tell application \u0026quot;Finder\u0026quot; set myWin to window 1 set thePath to (quoted form of POSIX path of (target of myWin as alias)) do shell script \u0026quot;/Applications/RStudio.app/Contents/MacOS/RStudio \u0026quot; \u0026amp; thePath end tell end run We can create an alternative app which specifically opens RStudio project (.Rproj) files as follows.\non run {input, parameters} tell application \u0026quot;Finder\u0026quot; try set currentFolder to (folder of window 1) as alias set workspaceFiles to (every file of currentFolder whose name extension is \u0026quot;Rproj\u0026quot;) if (count of workspaceFiles) = 0 then display dialog \u0026quot;No Rproj files found in directory.\u0026quot; else if (count of workspaceFiles) = 1 then set workspaceFile to item 1 of workspaceFiles set workspacePath to POSIX path of (workspaceFile as alias) do shell script \u0026quot;open -n -a RStudio \u0026quot; \u0026amp; quoted form of workspacePath else if (count of workspaceFiles) \u0026gt; 1 then display dialog \u0026quot;Multiple Rproj files found in directory.\u0026quot; end if on error display dialog \u0026quot;No Finder window is open.\u0026quot; end try end tell end run WezTerm on run {input, parameters} tell application \u0026quot;Finder\u0026quot; set myWin to window 1 set thePath to (quoted form of POSIX path of (target of myWin as alias)) do shell script \u0026quot;/opt/homebrew/bin/wezterm-gui start --cwd \u0026quot; \u0026amp; thePath end tell end run Zed on run {input, parameters} tell application \u0026quot;Finder\u0026quot; set myWin to window 1 set thePath to (quoted form of POSIX path of (target of myWin as alias)) do shell script \u0026quot;/usr/local/bin/zed -n \u0026quot; \u0026amp; thePath end tell end run R launched in a WezTerm terminal session on run {input, parameters} tell application \u0026quot;Finder\u0026quot; set myWin to window 1 set thePath to (quoted form of POSIX path of (target of myWin as alias)) do shell script \u0026quot;/opt/homebrew/bin/wezterm-gui start --cwd \u0026quot; \u0026amp; thePath \u0026amp; \u0026quot; -- /usr/local/bin/R\u0026quot; end tell end run Visual Studio Code and Positron First enable the ability to launch these apps with code and positron from a Terminal in each app, see here and here.\nThis script is more involved because we first check for any .code-workspace files and open one if found. My AppleScript coding is not very proficient, so there may more efficient approaches to coding this. If we didn\u0026rsquo;t explicitly open the .code-workspace file and if one is present in the directory Visual Studio Code/Positron will detect it and pop up a dialogue box asking if we want to reopen the directory as a workspace (I just prefer to skip this step).\non run {input, parameters} tell application \u0026quot;Finder\u0026quot; try set currentFolder to (folder of window 1) as alias set workspaceFiles to (every file of currentFolder whose name extension is \u0026quot;code-workspace\u0026quot;) if (count of workspaceFiles) = 0 then set folderPath to POSIX path of currentFolder do shell script \u0026quot;/usr/local/bin/positron -n \u0026quot; \u0026amp; quoted form of folderPath else if (count of workspaceFiles) = 1 then set workspaceFile to item 1 of workspaceFiles set workspacePath to POSIX path of (workspaceFile as alias) do shell script \u0026quot;/usr/local/bin/positron -n \u0026quot; \u0026amp; quoted form of workspacePath else if (count of workspaceFiles) \u0026gt; 1 then display dialog \u0026quot;Multiple code-workspace files found in directory.\u0026quot; end if on error display dialog \u0026quot;No Finder window is open.\u0026quot; end try end tell end run (For your Visual Studio Code app simply replace positron with code.)\nSaving and adding icons After adding the AppleScript code save each app. I call mine, e.g., RStudio-openhere.app.\nNext it is helpful to give each app the relevant icon. To do this in Finder bring up the Info boxes for the original app and your -openhere version by selecting each app and pressing Cmd+I. Next drag the large icon from the original app onto the small icon of your -openhere app.\nAdding the apps to the Finder toolbar Finally, we need to place shortcuts of these apps onto the Finder toolbar. To do this first hold down Cmd then drag the app from Finder onto the toolbar to the location you would like. On release the app should now be in the toolbar. (And to remove an icon from the toolbar, again hold Cmd then drag it off the toolbar.)\nSummary I have shown how to create Automator apps to open RStudio Desktop, Positron, and several other Data Science apps from the current Finder window.\n","date":1734912000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1734945300,"objectID":"2e181a35dc4d3e985d1bf2f9eedf85cd","permalink":"https://remlapmot.github.io/post/2024/finder-toolbar-apps/","publishdate":"2024-12-23T00:00:00Z","relpermalink":"/post/2024/finder-toolbar-apps/","section":"post","summary":"Create Automator Apps to launch Data Science apps open in the current Finder window on macOS.","tags":["Positron","R","RStudio","VSCode","macOS"],"title":"Launch RStudio, Positron, and other Data Science apps from your Finder Toolbar","type":"post"},{"authors":["Tom Palmer"],"categories":null,"content":"","date":1718815500,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1718815500,"objectID":"6d0625d33559400b014ae292bffc74e4","permalink":"https://remlapmot.github.io/talk/2024_mr/","publishdate":"2024-06-19T16:45:00Z","relpermalink":"/talk/2024_mr/","section":"talk","summary":"","tags":[],"title":"The MRC IEU R-Universe of Mendelian randomization related R packages üöÄ","type":"talk"},{"authors":[],"categories":["Blog"],"content":"Introduction Have you ever typed Amazon into the Google Chrome address bar and seen the address bar indicate that it\u0026rsquo;s now searching the Amazon site? It turns out this is a feature in Google Chrome called site search shortcuts.\nWe can see what default shortcuts Chrome provides by in the Chrome address bar going to chrome://settings/searchEngines and scrolling to the Site Search section.\nFrom here we can see that we can define our own shortcuts, so let\u0026rsquo;s define some helpful ones related to R and statistics.1\nHelpful Google Chrome site search shortcuts for R and statistics METACRAN provides several amazingly useful services around CRAN.\nA shortcut for searching the METACRAN CRAN mirror on GitHub Name: CRAN mirror on GitHub Shortcut: @cran URL with %s in place of query: https://github.com/search?q=user%3Acran%20%s\u0026amp;ref=opensearch\u0026amp;type=code On the Chrome settings page click add and enter the information. To use this simply type @cran into the address bar\nand then type your search term\nHere are some other shortcuts.\nA shortcut for searching for a package description on METACRAN Name: METACRAN Shortcut: @metacran URL with %s in place of query: https://r-pkg.org/search.html/?q=%s A shortcut for searching using Rseek Name: Rseek Shortcut: @rseek URL with %s in place of query: https://rseek.org/?q=%s A shortcut for searching R-universe Name: R-universe Shortcut: @runi URL with %s in place of query: https://r-universe.dev/search/?q=%s A shortcut for searching the third edition of the Oxford Dictionary of Statistics Name: Oxford Dictionary of Statistics Shortcut: @stats URL with %s in place of query: https://www.oxfordreference.com/search?source=%2F10.1093%2Facref%2F9780199679188.001.0001%2Facref-9780199679188\u0026amp;q=%s And we could define many more.\nSummary In summary we have defined several Google Chrome site search shortcuts related to R and statistics.\nI am following an excellent blogpost by Chrome Unboxed.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":1718323200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1718352900,"objectID":"5f5e12555e9a3d66891539bedced0b7c","permalink":"https://remlapmot.github.io/post/2024/chrome-site-search-shortcuts/","publishdate":"2024-06-14T00:00:00Z","relpermalink":"/post/2024/chrome-site-search-shortcuts/","section":"post","summary":"Google Chrome site search shortcuts for R and statistics to enable convenient #rstats web searching.","tags":["R","Chrome"],"title":"Supercharge your #rstats web searching in Google Chrome with Site Search Shortcuts","type":"post"},{"authors":[],"categories":["Blog"],"content":"Introduction MLwiN from the Centre for Multilevel Modelling (CMM) at the University of Bristol (disclaimer: where I also work) is a fantastic piece of software ( Charlton et al. 2024). The name suggests it only works on Windows, but as we‚Äôll find out this is very much not the case.\nHowever, in the past this was sort of true because to make it work on a Mac (or Linux machine) with an Intel processor one would need to run it using Wine.\nMore recently, CMM have cleverly made the MLwiN libraries available for other operating systems in a command line version of the program called mlnscript and an accompanying library. The files for macOS are universal binaries which means that they run natively on both Intel and Apple Silicon Macs. Let‚Äôs find out how to set this up.1\nSetting up mlnscript on an Apple Silicon Mac Obtain the installer for macOS. See the relevant download page (depending upon whether you are an academic) on the MLwiN website. On the form on the File to download dropdown menu select the mlnscript for MacOS option. This will give you the MLN.dmg installer.\nDouble click the installer. On macOS it is recommended to install the files into the /opt/mln/ directory, which you will need to create with Admin permissions, or install to another directory if you don‚Äôt have Admin permissions. Copy the 2 files mlnscript and libmln.dylib into the /opt/mln (or other) directory.\nOnce installed we can check that mlnscript and libmln.dylib are universal binaries as follows (we could also use the file command).\nlipo -archs /opt/mln/mlnscript ## x86_64 arm64 Since both architectures are listed in the output this indicates the files are universal binaries. Apple Silicon Macs will use the arm64 architecture.\nNow we need to grant the two files permission to run. To do this run the following in your Terminal.\n/opt/mln/mlnscript --version On first run, this will fail with a pop-up similar to the following.\nClick Cancel and then go into the System settings | Privacy \u0026amp; Security and scroll down and click Allow Anyway.\nThen running the version check command again you may receive another popup in which you click Open.\nAfter this the first popup will then appear but about the libmln.dylib file. Again set the security setting to Allow All.\nNow running the version check command again you should see the version number ‚Äì which is currently 3.10.\n/opt/mln/mlnscript --version ## 3.13 In R we then install the R2MLwiN package from CRAN ( Zhang et al. 2016).\ninstall.packages(\u0026quot;R2MLwiN\u0026quot;) This completes the setup - phew üòÆ!\nRunning a multilevel model For an example we could run one of the demos in the package, we can list those with the following code.\ndemo(package = \u0026quot;R2MLwiN\u0026quot;) We can run one, for example, let‚Äôs fit the random intercept model from the UserGuide02 demo.\nlibrary(R2MLwiN) # if you did not install mlnscript and libmln.dylib in /opt/mln , set: # options(MLwiN_path = \u0026quot;/path-to/mlnscript\u0026quot;) (mymodel1 \u0026lt;- runMLwiN(normexam ~ 1 + sex + (1 | student), data = tutorial)) #\u0026gt; #\u0026gt; -*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*- #\u0026gt; MLwiN (version: unknown or \u0026gt;3.09) multilevel model (Normal) #\u0026gt; Estimation algorithm: IGLS Elapsed time : 0.03s #\u0026gt; Number of obs: 4059 (from total 4059) The model converged after 3 iterations. #\u0026gt; Log likelihood: -5727.9 #\u0026gt; Deviance statistic: 11455.7 #\u0026gt; --------------------------------------------------------------------------------------------------- #\u0026gt; The model formula: #\u0026gt; normexam ~ 1 + sex + (1 | student) #\u0026gt; Level 1: student #\u0026gt; --------------------------------------------------------------------------------------------------- #\u0026gt; The fixed part estimates: #\u0026gt; Coef. Std. Err. z Pr(\u0026gt;|z|) [95% Conf. Interval] #\u0026gt; Intercept -0.14035 0.02463 -5.70 1.209e-08 *** -0.18862 -0.09208 #\u0026gt; sexgirl 0.23367 0.03179 7.35 1.985e-13 *** 0.17136 0.29598 #\u0026gt; Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1 #\u0026gt; --------------------------------------------------------------------------------------------------- #\u0026gt; The random part estimates at the student level: #\u0026gt; Coef. Std. Err. #\u0026gt; var_Intercept 0.98454 0.02185 #\u0026gt; -*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*- We can see the output is in several sections. The first section tells us about how mlnscript, which estimation algorithm it used, hwo long it took to fit the model, and some characteristics of the dataset. The second section tells us about the model, in this case a random intercept model. The third section is the fixed effect estimates and the associated statistical inference for them. The fourth section is the random effect variance estimates.\nAnd we can continue with our multilevel modelling as we like.\nSummary Despite having Win in its name, MLwiN is available as a command line program, mlnscript, which is available on operating systems other than Windows (and indeed with other architectures), including macOS for both Intel and Apple Silicon processors and various Linux and Unix distributions (CentOS, Debian, Fedora, FreeBSD, Rocky, and Ubuntu). This is straightforward to use from R via the R2MLwiN package.\nReferences Charlton, C., J. Rasbash, W. J. Browne, M. Healy, and B. Cameron. 2024. MLwiN Version 3.10. Bristol, UK: Centre for Multilevel Modelling, University of Bristol. https://www.bristol.ac.uk/cmm/software/mlwin/.\nZhang, Z., R. M. A. Parker, C. M. J. Charlton, G. Leckie, and W. J. Browne. 2016. ‚ÄúR2MLwiN: A Package to Run MLwiN from Within R.‚Äù Journal of Statistical Software 72 (10): 1‚Äì43. https://doi.org/10.18637/jss.v072.i10.\nThis post is essentially a more detailed explanation of the advice given on the MLwiN website, here and here.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":1712016000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1711999080,"objectID":"e508257bcaaaa704b919068443e5f55c","permalink":"https://remlapmot.github.io/post/2024/mlnscript-r2mlwin-apple-silicon/","publishdate":"2024-04-02T00:00:00Z","relpermalink":"/post/2024/mlnscript-r2mlwin-apple-silicon/","section":"post","summary":"How to run MLwiN natively on Apple Silicon Macs via R and the R2MLwiN package.","tags":["R","MLwiN","macOS"],"title":"Running MLwiN using mlnscript via the R2MLwiN R package on Apple Silicon Macs ","type":"post"},{"authors":[],"categories":["Blog"],"content":"Introduction: how to open a second instance of RStudio Desktop on macOS On macOS when RStudio Desktop is open it can be inconvenient to open a second (or third or fourth) instance of it.\nIf you left click the RStudio Desktop icon nothing happens. If you right click on the RStudio Desktop icon there is a convenient New RStudio Window. The problem with this is that by default if you have an RStudio project open the new RStudio window is also opened in that project. However, that can be overcome by opening the RStudio preference pane and in the first tab (General | Basic) deselecting the boxes relating to Restore most recently opened project at startup and Restore previousy open source documents at startup.\nAlternatively, within RStudio Desktop we could select File | Open Project\u0026hellip; but I\u0026rsquo;ve never found that very intuitive and somehow I\u0026rsquo;ve never got used to using RStudio\u0026rsquo;s command palette. If you have several directories configured as RStudio projects (with .Rproj files) that you\u0026rsquo;ve opened before you could open those from the top right project drop down menu or double click them from within Finder.\nBut let\u0026rsquo;s say we want an even more convenient way of doing this \u0026ndash; an icon in the dock. Thanks to this Stackoverflow answer, it turns out that in a terminal we can issue the following open command to achieve opening a new instance of RStudio Desktop (note RStudio Desktop needs to be installed in your Applications directory for this to work).\nopen -n -a RStudio.app Making an Automator app to open a new instance of RStudio Desktop macOS comes with Automator, open that from your Applications directory. Then select File | New and select Application and click Choose. Then from the left most menu select Utilities and double click Run Shell Script. In the main window on the right, leave the shell as zsh and replace the cat text in the box with the open command above.\nThen press Cmd + S or File | Save and save your application in your Applications folder. Give the app a distinct name such as RStudio-new-instance.app or whatever you prefer and then quit Automator.\nNext we would like our app to have a nice icon.1\nFirst download a nice icon from say this repo of logos kindly designed for RStudio (I chose the dark one). Then navigate to the our new app in Finder and press Cmd + I. Then drag the .icns file onto the icon in the top left corner of the info box. And tada your app will now use this icon! And you can even drag the app from Finder onto your dock from where you can simply click the icon to open as many instances of RStudio Desktop as you like.\nAnd because the new application is in our Applications directory it is found by Alfred (and hopefully Raycast).\nSummary We have created an Automator application which runs a shell script to open a new instance of RStudio Desktop. We have then given this application a new icon and we have placed this on our dock.\nI follow the approach detailed on this blog and on the README where I obtained the icon.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":1711843200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1711824840,"objectID":"9311500e52c676d07800a2390a16fae8","permalink":"https://remlapmot.github.io/post/2024/macos-rstudio-another/","publishdate":"2024-03-31T00:00:00Z","relpermalink":"/post/2024/macos-rstudio-another/","section":"post","summary":"A convenient way to open a new instance of RStudio Desktop on macOS.","tags":["R","RStudio","macOS"],"title":"Creating a simple Automator app to launch a new instance of RStudio Desktop on macOS","type":"post"},{"authors":["Tom Palmer"],"categories":null,"content":"","date":1706277600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1706277600,"objectID":"28ea704748e0a4f46394bb44b603e207","permalink":"https://remlapmot.github.io/talk/2024_mrcieu-r-universe/","publishdate":"2024-01-26T14:00:00Z","relpermalink":"/talk/2024_mrcieu-r-universe/","section":"talk","summary":"","tags":[],"title":"The MRC IEU üöÄ R-Universe of Mendelian randomization related R packages","type":"talk"},{"authors":[],"categories":["Blog"],"content":"My #GitHubUnwrapped 2023!\nMade with https://www.githubunwrapped.com/.\n","date":1704585600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1704621480,"objectID":"6b7c5faeed281f194e3b4e949810da25","permalink":"https://remlapmot.github.io/post/2024/github-unwrapped-2023/","publishdate":"2024-01-07T00:00:00Z","relpermalink":"/post/2024/github-unwrapped-2023/","section":"post","summary":"My #GitHubUnwrapped 2023!","tags":["GitHub"],"title":"My #GitHubUnwrapped 2023!","type":"post"},{"authors":["Tom Palmer","Yi Liu"],"categories":null,"content":"","date":1701428400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1701428400,"objectID":"019eb867a5210b668d4c3ea94c54eeee","permalink":"https://remlapmot.github.io/talk/2023_code-clinic/","publishdate":"2023-12-01T11:00:00Z","relpermalink":"/talk/2023_code-clinic/","section":"talk","summary":"","tags":[],"title":"Using Git, GitHub Desktop, and GitHub for novice and experienced users","type":"talk"},{"authors":[],"categories":["Blog"],"content":"Most proficient Stata users have come across the version command. This is an incredibly powerful command, which simply by issuing say\nversion 18 at the top of a do-file or within a program (typically in an ado-file) means that you have pretty much guaranteed your code will run in the same way when you come to run it later (most likely in a newer version of Stata). But it turns out there‚Äôs a subtle difference between issuing version in a do-file/interactively compared to within a program or ado-file.\nSeveral years ago I wrote the reffadjust package ( Palmer et al. 2014) as part of some work using random effects models ( Macdonald-Wallis et al. 2012). It has two programs reffadjustsim and reffadjust4nlcom which use the output of various random effects commands, including those from MLwiN, run from Stata using the user-written runmlwin command ( Leckie and Charlton 2013).\nThe reffadjust package doesn‚Äôt have many users and over the years I hadn‚Äôt regularly checked if the programs were still working. But in the ado-files I had set version 13, which gave me some residual confidence that the programs might still work.\nHowever, a few years ago, when I eventually did run some test code I saw that the reffadjustsim tests were failing for MLwiN/runmlwin models. I didn‚Äôt have time to investigate further at this point, and I didn‚Äôt have any intuition whether the error resulted from a change in MLwiN, runmlwin, or Stata.\nAt the beginning of this year one of my colleagues mentioned that they were using reffadjust in their work and had observed the same error with reffadjustsim. My guilt kicked in, and I eventually found some time to investigate. I discovered that since I wrote the package, Stata processes matrix row and column stripes (essentially the row and column names) in a more advanced way. This meant that the row and column stripes for covariance elements in the e(V) matrix (the variance-covariance matrix of parameter estimates) from MLwiN/runmlwin models were being renamed when I hadn‚Äôt intended them to be, which caused the error.\nBut wait ‚Ä¶ I had specified version 13 at the top of my program, so why was this update in later versions of Stata taking effect?\nI couldn‚Äôt work it out, so I had to ask Stata Technical Support. They were kind enough to tell me that there‚Äôs an additional method of invoking the version command which controls what is known as the ‚Äúuser version‚Äù. There are some modifications in new versions of Stata which are exempt from the basic invocation of the version command (but only in programs and ado-files). In do-files issuing version sets both the version and the user version, however, in programs and ado-files the ‚Äúuser version‚Äù, is set by version #, user, and holds these additional modifications in Stata to the required version.\nNaturally, this is explained in the version helpfile and manual entry, which I admit I had not read until this point. Hence, simply editing the top of my program to\nversion 13 version 13, user fixed my error. So in a program or ado-file, we require both lines, whereas in a do-file we‚Äôd only require version 13.\nWe can see the different operation of version by the following short example.\n/* Do-file/interactive code to set both the version and the user version */ version 13 display c(version), c(userversion), c(stata_version) // 13 13 18.5 /* Ado-file/program code to set both the version and the user version */ program mytest version 13 display c(version), c(userversion), c(stata_version) version 13, user display c(version), c(userversion), c(stata_version) end mytest // 13 18.5 18.5 // 13 13 18.5 In summary, my reffadjustsim command works again for MLwiN/runmlwin models. The updated version is available from its GitHub repo. And if you ever need fuller reproducibility in your Stata ado-file or program remember to set both the version and the user version.\nReferences Leckie, George, and Chris Charlton. 2013. ‚Äúrunmlwin: A Program to Run the MLwiN Multilevel Modeling Software from within Stata.‚Äù Journal of Statistical Software 52 (11): 1‚Äì40. https://doi.org/10.18637/jss.v052.i11.\nMacdonald-Wallis, Corrie, Debbie A. Lawlor, Tom Palmer, and Kate Tilling. 2012. ‚ÄúMultivariate Multilevel Spline Models for Parallel Growth Processes: Application to Weight and Mean Arterial Pressure in Pregnancy.‚Äù Statistics in Medicine 31 (26): 3147‚Äì64. https://doi.org/doi.org/10.1002/sim.5385.\nPalmer, Tom M., Corrie M. Macdonald-Wallis, Debbie A. Lawlor, and Kate Tilling. 2014. ‚ÄúEstimating adjusted associations between random effects from multilevel models: The reffadjust package.‚Äù The Stata Journal 14 (1): 119‚Äì40. https://doi.org/10.1177/1536867X1401400109.\n","date":1692835200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1694375009,"objectID":"3deb42edc4f2c69c27bc50909a54a94a","permalink":"https://remlapmot.github.io/post/2023/stata-reproducibility/","publishdate":"2023-08-24T00:00:00Z","relpermalink":"/post/2023/stata-reproducibility/","section":"post","summary":"For fuller reproducibility in Stata ado-files and programs set both the version and the user version.","tags":["Stata"],"title":"Fuller reproducibility in Stata ado-files and programs: setting the version and user version","type":"post"},{"authors":["Tom Palmer","Hannah Sallis","Kate Tilling","George Davey Smith","Marcus Munaf√≤"],"categories":null,"content":"","date":1684760400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1684760400,"objectID":"1d08b1301162c7d3b7e2421f4ebf6899","permalink":"https://remlapmot.github.io/talk/2023_reverse-mr/","publishdate":"2023-05-22T13:00:00Z","relpermalink":"/talk/2023_reverse-mr/","section":"talk","summary":"","tags":[],"title":"Using allele scores to identify confounding by reverse causation: Studies of alcohol consumption as an exemplar","type":"talk"},{"authors":[],"categories":["Blog"],"content":"My #GitHubUnwrapped 2022!\nMade with https://www.githubunwrapped.com/.\n","date":1673049600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1673093444,"objectID":"85c7f35cde9ba21baa3ed1589def9094","permalink":"https://remlapmot.github.io/post/2023/github-unwrapped-2022/","publishdate":"2023-01-07T00:00:00Z","relpermalink":"/post/2023/github-unwrapped-2022/","section":"post","summary":"My #GitHubUnwrapped 2022!","tags":["GitHub"],"title":"My #GitHubUnwrapped 2022!","type":"post"},{"authors":[],"categories":["Blog"],"content":" Introduction CRAN is a fantastic resource, in particular because it provides binary packages for Windows and macOS (for both Intel and Apple Silicon Macs). Because there are so many Linux distributions CRAN does not provide binary packages for Linux. Therefore, installing R packages on Linux can be slow because the bundled source packages need to be built on users machines.\nBut let\u0026rsquo;s install a package from the Posit (formerly RStudio) Package Manager on Ubuntu Linux. Woah! Something magical just happened, we installed a binary R package on Linux! How did that happen, let\u0026rsquo;s find out.1\nBuilding bundled source and binary packages I will use an example of one of my own packages OneSampleMR. I am running RStudio server on Ubuntu Linux, Focal Fossa through Windows Subsystem for Linux.\nThe package sources are in a Git repository hosted on GitHub, here. There is an .Rproj file, which we open in RStudio as a project.\nTo build an R package we require all of its dependency packages are installed, so we install those with devtools::install_dev_deps() and if your package requires any system libraries those must be installed too.\nThe Build pane gives us two convenient options, which will build either the bundled source package or binary package through calls to devtools::build(). Clicking on both in turn we see the following. The bundled source package has been built as OneSampleMR_0.1.2.tar.gz and the binary package has been built as OneSampleMR_0.1.2_R_x86_64-pc-linux-gnu.tar.gz. Both files are in the directory above the project.\nWe can achieve the same output by making direct calls to R CMD build and R CMD install --build in a shell if preferred. We can test that these install as follows.\nCRAN structure for bundled source package files In two excellent blog posts Marks Sellors describes how to make a CRAN-like repository.2\nTo host bundled source packages, such as our OneSampleMR_0.1.2.tar.gz file, we require the following directory structure (noting that the latest directory is optional, but allows us to add snapshot directories if we wanted to).\n/mycran ‚îî‚îÄ‚îÄ latest ‚îî‚îÄ‚îÄ src ‚îî‚îÄ‚îÄ contrib ‚îî‚îÄ‚îÄ 4.3.0 ‚îî‚îÄ‚îÄ Recommended Specifically, we place the {package}_{version}.tar.gz files into the .../src/contrib directory. In that directory we then run\ntools::write_PACKAGES(type = \u0026quot;source\u0026quot;) which generates 3 additional files (PACKAGES, PACKAGES.gz, and PACKAGES.rds) which R will use to query what packages are available in our repository when its served on the web.\nAdding Windows and macOS binary R packages We saw above how to build a binary Linux package. The same process, when repeated on Windows will generate a file called {package}_{version}.zip and {package}_{version}.tgz on macOS (on Macs with both Intel and Apple Silicon processors).\nAssuming that we have some of these files we need to know where to put them. Since CRAN distributes binary packages for Windows and macOS we follow their directory structure, which is as follows.\n/mycran ‚îî‚îÄ‚îÄ latest ‚îú‚îÄ‚îÄ bin ‚îÇ ‚îú‚îÄ‚îÄ macosx ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ big-sur-arm64 ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ contrib ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ 4.2 ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ contrib ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ 4.2 ‚îÇ ‚îî‚îÄ‚îÄ windows ‚îÇ ‚îî‚îÄ‚îÄ contrib ‚îÇ ‚îî‚îÄ‚îÄ 4.2 ‚îî‚îÄ‚îÄ src ‚îî‚îÄ‚îÄ contrib ‚îî‚îÄ‚îÄ 4.3.0 ‚îî‚îÄ‚îÄ Recommended Noting that the current version of R is 4.2.2 and that the relevant directory name with the minor version number changes when R\u0026rsquo;s current minor version number changes, we place\nmacOS arm64 binary packages (for Macs with Apple Silicon processors) into the .../bin/macosx/big-sur-arm64/contrib/4.2/ directory macOS x86_64 binary packages (for Macs with Intel processors) into the .../bin/macosx/contrib/4.2/ directory, and Windows binary packages into the .../bin/windows/contrib/4.2/ directory. We then run tools::write_PACKAGES(type = \u0026quot;mac.binary\u0026quot;) (changing to type = \u0026quot;win.binary\u0026quot; as required) in each of these directories to generate the 3 PACKAGES files.\nWe can confirm this directory structure using the contrib.url() function (the last command below was run on an Apple Silicon Mac).\ncontrib.url(\u0026quot;\u0026quot;, type = \u0026quot;source\u0026quot;) ## [1] \u0026quot;/src/contrib\u0026quot; contrib.url(\u0026quot;\u0026quot;, type = \u0026quot;win.binary\u0026quot;) ## [1] \u0026quot;/bin/windows/contrib/4.2\u0026quot; contrib.url(\u0026quot;\u0026quot;, type = \u0026quot;mac.binary\u0026quot;) ## [1] \u0026quot;/bin/macosx/contrib/4.2\u0026quot; contrib.url(\u0026quot;\u0026quot;, type = \u0026quot;binary\u0026quot;) ## [1] \u0026quot;/bin/macosx/big-sur-arm64/contrib/4.2\u0026quot; And they are also listed in the R Installation and Administration manual.3\nOn Apple Silicon Macs the big-sur-arm64 filepath corresponds to the end of .Platform$pkgType.\n.Platform$pkgType ## [1] \u0026quot;mac.binary.big-sur-arm64\u0026quot; Where to store and how to name Linux binary R packages? CRAN does not distribute Linux binary packages and so there is no directory structure from them to copy.\nHowever both the Posit Package Manager and the R4Pi project achieve this in a very clever way.4\nWe saw above that on Linux bundled source packages have filenames of the form {package}_{version}.tar.gz whereas the binary package filenames are of the form {package}_{version}_R_x86_64-pc-linux-gnu.tar.gz (the text after {package}_{version}_ may be different depending on your machine and distro).\nTo distribute the Linux binary packages we create a parallel directory structure, which takes the same form as for the bundled source packages. In the case of Ubuntu Focal Fossa the Posit Package Manager uses __linux__/focal/latest/src/contrib.\nThey then rename the {package}_{version}_R_x86_64-pc-linux-gnu.tar.gz files to the same form as the bundled source package files, i.e., to {package}_{version}.tar.gz. And they put them in this new src/contrib directory.\nThe structure of our CRAN-like repository (well in fact our 2 parallel repositories) is now.\n/mycran ‚îú‚îÄ‚îÄ __linux__ ‚îÇ ‚îî‚îÄ‚îÄ focal ‚îÇ ‚îî‚îÄ‚îÄ latest ‚îÇ ‚îî‚îÄ‚îÄ src ‚îÇ ‚îî‚îÄ‚îÄ contrib ‚îÇ ‚îî‚îÄ‚îÄ 4.3.0 ‚îÇ ‚îî‚îÄ‚îÄ Recommended ‚îî‚îÄ‚îÄ latest ‚îú‚îÄ‚îÄ bin ‚îÇ ‚îú‚îÄ‚îÄ macosx ‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ big-sur-arm64 ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ contrib ‚îÇ ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ 4.2 ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ contrib ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ 4.2 ‚îÇ ‚îî‚îÄ‚îÄ windows ‚îÇ ‚îî‚îÄ‚îÄ contrib ‚îÇ ‚îî‚îÄ‚îÄ 4.2 ‚îî‚îÄ‚îÄ src ‚îî‚îÄ‚îÄ contrib ‚îî‚îÄ‚îÄ 4.3.0 ‚îî‚îÄ‚îÄ Recommended We then run\ntools::write_PACKAGES(type = \u0026quot;source\u0026quot;) in the .../__linux__/distro-name/src/contrib directory for each Linux distribution to generate the PACKAGES files.\nOnce this directory structure is served we can set our repository in R to .../__linux__/focal/latest and R will find the binary package {package}_{version}.tar.gz files in the ...__linux__/focal/src/contrib/ directory, as per the first figure in this post.\nNote that the {package}_{version}.tar.gz files within __linux__/focal/latest/src/contrib do not all have to be of binary packages. They can be a mix of bundled source and binary packages, which is helpful if you haven\u0026rsquo;t had time to build all your binary package files.\nWe can also confirm that on Ubuntu Focal Fossa\n.Platform$pkgType ## [1] \u0026quot;source\u0026quot; therefore, on Linux, utils:::resolvePkgType() always returns \u0026quot;source\u0026quot;. Hence, on Linux, contrib.url() always returns /src/contrib regardless of its type argument.\nTesting your CRAN-like repositories locally You can either run a local web server or use the file://... URL notation as your repos global options setting (set with option(repos = ...) or as the repos argument to install.packages()).\nHere\u0026rsquo;s a screenshot of installing a binary package on Ubuntu Focal Fossa. Summary We have taken a look at the structure of a CRAN-like repository and built bundled source and binary package files. We saw that the trick for distributing Linux binary packages is to make a parallel directory with the same structure as that required for bundled source packages and that we need to rename the binary package files to have the same filename format as the bundled source package files.\nNote that there are other approaches to distributing binary R packages on Linux, see https://cran.r-project.org/bin/linux/ and links therein, https://eddelbuettel.github.io/r2u/, and https://enchufa2.github.io/bspm/\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nhttps://blog.sellorm.com/2019/03/29/lifting-the-lid-on-cran/ and https://blog.sellorm.com/2019/03/30/build-your-own-cran-like-repo/] There is also the miniCRAN package to help do this, but we don\u0026rsquo;t need to use this for the following explanation.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nSee https://cran.r-project.org/doc/manuals/R-admin.html#Setting-up-a-package-repository.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nSee https://packagemanager.rstudio.com/client/#/repos/2/overview and https://pkgs.r4pi.org/\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":1669766400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1669820821,"objectID":"38ba2aba1efe6a254d66547c485a57e3","permalink":"https://remlapmot.github.io/post/2022/make-linux-binary-cran-like-repo/","publishdate":"2022-11-30T00:00:00Z","relpermalink":"/post/2022/make-linux-binary-cran-like-repo/","section":"post","summary":"Make your own CRAN-like repository serving not only bundled source packages and Windows and macOS binary packages but also Linux binary packages.","tags":["R","CRAN","Linux","Ubuntu"],"title":"Make your own CRAN-like repository with Linux binary R packages","type":"post"},{"authors":["Tom Palmer","Elinor Jones"],"categories":null,"content":"","date":1656519600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1656519600,"objectID":"630eb273dca0dc3304b3e911ef137cfe","permalink":"https://remlapmot.github.io/talk/2022_horizons-in-stem/","publishdate":"2022-06-29T16:20:00Z","relpermalink":"/talk/2022_horizons-in-stem/","section":"talk","summary":"","tags":[],"title":"A review of group-based methods for teaching statistics in higher education","type":"talk"},{"authors":["Tom Palmer"],"categories":null,"content":"","date":1653046200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1653046200,"objectID":"66f0e9691c52b871ca26cc7907e20160","permalink":"https://remlapmot.github.io/talk/2022_check-error/","publishdate":"2022-05-20T11:30:00Z","relpermalink":"/talk/2022_check-error/","section":"talk","summary":"","tags":[],"title":"Investigating and fixing a new CRAN check error in my OneSampleMR package","type":"talk"},{"authors":["Tom Palmer"],"categories":null,"content":"","date":1642683600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1642683600,"objectID":"e330de6527b218005bd6af0839d51b32","permalink":"https://remlapmot.github.io/talk/2022_stats-discussion/","publishdate":"2022-01-20T13:00:00Z","relpermalink":"/talk/2022_stats-discussion/","section":"talk","summary":"","tags":[],"title":"R and Stata packages for one-sample Mendelian randomization analyses: OneSampleMR and ivonesamplemr","type":"talk"},{"authors":["Tom Palmer"],"categories":null,"content":"","date":1610974800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1610974800,"objectID":"4e16a7a1635547f959fd2de9b27d248f","permalink":"https://remlapmot.github.io/talk/2021_stats-discussion/","publishdate":"2021-01-18T13:00:00Z","relpermalink":"/talk/2021_stats-discussion/","section":"talk","summary":"","tags":[],"title":"Parameter collapsibility and noncollapsibility in statistical models: what you need to know","type":"talk"},{"authors":["Tom Palmer","Roland Ramsahai","Vanessa Didelez","Nuala Sheehan"],"categories":null,"content":"","date":1563321600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1563321600,"objectID":"05bd48638116e66a697c25e89cbecc78","permalink":"https://remlapmot.github.io/talk/2019_mr/","publishdate":"2019-07-17T00:00:00Z","relpermalink":"/talk/2019_mr/","section":"talk","summary":"","tags":[],"title":"bpbounds: R package and web app","type":"talk"},{"authors":["Tom Palmer"],"categories":null,"content":"","date":1543924800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1543924800,"objectID":"b2e538200df75db5e13789701d887c29","permalink":"https://remlapmot.github.io/talk/2018_keele/","publishdate":"2018-12-04T12:00:00Z","relpermalink":"/talk/2018_keele/","section":"talk","summary":"","tags":[],"title":"Directed acyclic graphs: what are they and what are they useful for?","type":"talk"},{"authors":["Tom Palmer","Wes Spiller","Neil Davies"],"categories":null,"content":"","date":1504828800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1504828800,"objectID":"53c62687f981064d0ff6ecdc1cb1ed1c","permalink":"https://remlapmot.github.io/talk/2017_stata/","publishdate":"2017-09-08T00:00:00Z","relpermalink":"/talk/2017_stata/","section":"talk","summary":"","tags":[],"title":"mrrobust: A Stata package for MR-Egger regression type analyses","type":"talk"},{"authors":["Tom Palmer","Wes Spiller","Neil Davies"],"categories":null,"content":"","date":1499864400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1499864400,"objectID":"17bec1eb4c731bc6dd720663005cbf87","permalink":"https://remlapmot.github.io/talk/2017_mr/","publishdate":"2017-07-12T13:00:00Z","relpermalink":"/talk/2017_mr/","section":"talk","summary":"","tags":[],"title":"mrrobust: A Stata package implementing MR-Egger regression type analyses","type":"talk"},{"authors":["Tom Palmer"],"categories":null,"content":"","date":1492693200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1492693200,"objectID":"49708294c5285bfb89691b829c693cd5","permalink":"https://remlapmot.github.io/talk/2017_leibniz/","publishdate":"2017-04-20T13:00:00Z","relpermalink":"/talk/2017_leibniz/","section":"talk","summary":"","tags":[],"title":"Corrected standard errors for two-stage residual inclusion estimators and a Stata package for MR-Egger regression type analyses","type":"talk"},{"authors":["Tom Palmer"],"categories":null,"content":"","date":1488888000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1488888000,"objectID":"746670f346d1dae7e7f0821b9d6a2eab","permalink":"https://remlapmot.github.io/talk/2017_lstm/","publishdate":"2017-03-07T12:00:00Z","relpermalink":"/talk/2017_lstm/","section":"talk","summary":"","tags":[],"title":"Some topics from Mendelian randomization","type":"talk"},{"authors":["Tom Palmer","Dave Evans","George Davey Smith"],"categories":null,"content":"","date":1460635200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1460635200,"objectID":"062d0046ff5406dd4c1819530a4eeef2","permalink":"https://remlapmot.github.io/talk/2016_ukcim/","publishdate":"2016-04-14T12:00:00Z","relpermalink":"/talk/2016_ukcim/","section":"talk","summary":"","tags":[],"title":"Meta-analytic structural equation modelling: Application to Mendelian randomization studies","type":"talk"},{"authors":["Tom Palmer"],"categories":null,"content":"","date":1440680400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1440680400,"objectID":"a297c976705115f0bcdc21a1b86a778b","permalink":"https://remlapmot.github.io/talk/2015_iscb/","publishdate":"2015-08-27T13:00:00Z","relpermalink":"/talk/2015_iscb/","section":"talk","summary":"","tags":[],"title":"Fitting fixed and random effects meta-analysis models using structural equation models","type":"talk"},{"authors":["Tom Palmer"],"categories":null,"content":"","date":1434978000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1434978000,"objectID":"664ad1564f8ff911029217990d970350","permalink":"https://remlapmot.github.io/talk/2015_mr/","publishdate":"2015-06-22T13:00:00Z","relpermalink":"/talk/2015_mr/","section":"talk","summary":"","tags":[],"title":"Corrections to Probit and logistic control function estimator standard errors for marginal parameters","type":"talk"},{"authors":["Tom Palmer"],"categories":null,"content":"","date":1410264000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1410264000,"objectID":"89b312f01ab23441702ac07b06799b78","permalink":"https://remlapmot.github.io/talk/2014_ieu/","publishdate":"2014-09-09T12:00:00Z","relpermalink":"/talk/2014_ieu/","section":"talk","summary":"","tags":[],"title":"Lack of identification in structural mean models and multiple paired comparisons for investigating pleiotropy","type":"talk"},{"authors":["Tom Palmer"],"categories":null,"content":"","date":1394629200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1394629200,"objectID":"1c208b1b7d389e69ac3dff96d131ec32","permalink":"https://remlapmot.github.io/talk/2014_bk/","publishdate":"2014-03-12T13:00:00Z","relpermalink":"/talk/2014_bk/","section":"talk","summary":"","tags":[],"title":"Generalised method of moments estimation of mediation models and structural mean models","type":"talk"},{"authors":["Tom Palmer"],"categories":null,"content":"","date":1383840000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1383840000,"objectID":"f8aa98485b23b2a893b3ae160d20cf6a","permalink":"https://remlapmot.github.io/talk/2013_rss/","publishdate":"2013-11-07T16:00:00Z","relpermalink":"/talk/2013_rss/","section":"talk","summary":"","tags":[],"title":"Topics in instrumental variable estimation: structural mean models and bounds","type":"talk"},{"authors":["Tom Palmer","Dave Evans","George Davey Smith"],"categories":null,"content":"","date":1377522000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1377522000,"objectID":"1e8b452cb72e186fcb78c0405da09544","permalink":"https://remlapmot.github.io/talk/2013_iscb/","publishdate":"2013-08-26T13:00:00Z","relpermalink":"/talk/2013_iscb/","section":"talk","summary":"","tags":[],"title":"Strengthening Mendelian randomization through utilizing multiple independent paired combinations of genetic variants to evaluate potential pleiotropy","type":"talk"},{"authors":["Tom Palmer"],"categories":null,"content":"","date":1369933200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1369933200,"objectID":"76e5d92113ab9ac7672d0f2d602c9ac9","permalink":"https://remlapmot.github.io/talk/2013_crism/","publishdate":"2013-05-30T17:00:00Z","relpermalink":"/talk/2013_crism/","section":"talk","summary":"","tags":[],"title":"Topics in instrumental variable estimation: structural mean models and bounds","type":"talk"},{"authors":["Tom Palmer"],"categories":null,"content":"","date":1368608400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1368608400,"objectID":"ca6e578cd9390a04b1e5e264cc83ada9","permalink":"https://remlapmot.github.io/talk/2013_ukcim/","publishdate":"2013-05-15T09:00:00Z","relpermalink":"/talk/2013_ukcim/","section":"talk","summary":"","tags":[],"title":"Generalised method of moments estimation of mediation models and structural mean models","type":"talk"},{"authors":["Tom Palmer"],"categories":null,"content":"","date":1328101200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1328101200,"objectID":"5b1f26ad46eee00834dab81aec0e5cbc","permalink":"https://remlapmot.github.io/talk/2012_gottingen/","publishdate":"2012-02-01T13:00:00Z","relpermalink":"/talk/2012_gottingen/","section":"talk","summary":"","tags":[],"title":"Topics in instrumental variable estimation: structural mean models and bounds","type":"talk"},{"authors":["Tom Palmer","Roger Harbord","Paul Clarke","Frank Windmeijer"],"categories":null,"content":"","date":1316044800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1316044800,"objectID":"b4e40be8e1a07e2bf6c3f7c8156f9623","permalink":"https://remlapmot.github.io/talk/2011_stata/","publishdate":"2011-09-15T00:00:00Z","relpermalink":"/talk/2011_stata/","section":"talk","summary":"","tags":[],"title":"Generalised method of moments estimation of structural mean models","type":"talk"},{"authors":["Tom Palmer","Paul Clarke","Frank Windmeijer"],"categories":null,"content":"","date":1316005200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1316005200,"objectID":"0683b828f11eb1e89d110989e4fc1d7c","permalink":"https://remlapmot.github.io/talk/2011_lshtm/","publishdate":"2011-09-14T13:00:00Z","relpermalink":"/talk/2011_lshtm/","section":"talk","summary":"","tags":[],"title":"Estimation using structural mean models with multiple instruments","type":"talk"},{"authors":["Tom Palmer","Paul Clarke","Frank Windmeijer"],"categories":null,"content":"","date":1314104400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1314104400,"objectID":"97afa6e4c5228ee3233956da8303b854","permalink":"https://remlapmot.github.io/talk/2011_iscb/","publishdate":"2011-08-23T13:00:00Z","relpermalink":"/talk/2011_iscb/","section":"talk","summary":"","tags":[],"title":"Generalised method of moments estimation of structural mean models","type":"talk"},{"authors":["Tom Palmer","Paul Clarke","Frank Windmeijer"],"categories":null,"content":"","date":1306414800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1306414800,"objectID":"91330ac6fb5e5b8d93f00807f6aee599","permalink":"https://remlapmot.github.io/talk/2011_rss/","publishdate":"2011-05-26T13:00:00Z","relpermalink":"/talk/2011_rss/","section":"talk","summary":"","tags":[],"title":"Estimation of structural mean models with multiple instruments","type":"talk"},{"authors":["Tom Palmer"],"categories":null,"content":"","date":1297353600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1297353600,"objectID":"b9ed947a318925c834648a2d71907156","permalink":"https://remlapmot.github.io/talk/2011_rss-avon/","publishdate":"2011-02-10T16:00:00Z","relpermalink":"/talk/2011_rss-avon/","section":"talk","summary":"","tags":[],"title":"Mendelian randomization: using genotypes as instrumental variables in epidemiological studies","type":"talk"},{"authors":["Tom Palmer","Dave Evans","George Davey Smith"],"categories":null,"content":"","date":1284555600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1284555600,"objectID":"573c1b640964d8a32bcf50742b4f1248","permalink":"https://remlapmot.github.io/talk/2010_rss/","publishdate":"2010-09-15T13:00:00Z","relpermalink":"/talk/2010_rss/","section":"talk","summary":"","tags":[],"title":"Using multiple independent combinations of genetic variants to strengthen causal inference in Mendelian randomization studies: height and lung function as an example","type":"talk"},{"authors":["Tom Palmer","Roger Harbord","Vanessa Didelez","Nuala Sheehan","Debbie Lawlor","Jonathan Sterne"],"categories":null,"content":"","date":1283173200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1283173200,"objectID":"95f645b52cb29d2c1f4452f57909fbc3","permalink":"https://remlapmot.github.io/talk/2010_iscb/","publishdate":"2010-08-30T13:00:00Z","relpermalink":"/talk/2010_iscb/","section":"talk","summary":"","tags":[],"title":"Instrumental variable estimation of the causal risk ratio in cohorts","type":"talk"},{"authors":["Tom Palmer"],"categories":null,"content":"","date":1258200000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1258200000,"objectID":"a0b190b972352f58ce449e9ddff3ce94","permalink":"https://remlapmot.github.io/talk/2009_ghent/","publishdate":"2009-11-14T12:00:00Z","relpermalink":"/talk/2009_ghent/","section":"talk","summary":"","tags":[],"title":"Including multiple instrumental variables in Mendelian randomization analyses","type":"talk"},{"authors":["Tom Palmer","Jaime Peters","Alex Sutton","Santiago Moreno"],"categories":null,"content":"","date":1252674000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1252674000,"objectID":"797637612539dd70359963e193419583","permalink":"https://remlapmot.github.io/talk/2009_stata/","publishdate":"2009-09-11T13:00:00Z","relpermalink":"/talk/2009_stata/","section":"talk","summary":"","tags":[],"title":"Contour enhanced funnel plots for meta-analysis","type":"talk"},{"authors":["Tom Palmer","Debbie Lawlor","Jonathan Sterne"],"categories":null,"content":"","date":1251291600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1251291600,"objectID":"415d132f4e22faafad91cae810e75983","permalink":"https://remlapmot.github.io/talk/2009_iscb/","publishdate":"2009-08-26T13:00:00Z","relpermalink":"/talk/2009_iscb/","section":"talk","summary":"","tags":[],"title":"Including multiple instrumental variables in Mendelian randomization analyses","type":"talk"},{"authors":["Tom Palmer","John Thompson","Santiago Moreno"],"categories":null,"content":"","date":1189429200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1189429200,"objectID":"c35c97fd61c7b31e4a455c915c365f15","permalink":"https://remlapmot.github.io/talk/2007_stata/","publishdate":"2007-09-10T13:00:00Z","relpermalink":"/talk/2007_stata/","section":"talk","summary":"","tags":[],"title":"Performing Bayesian analysis in Stata using WinBUGS","type":"talk"},{"authors":["Tom Palmer","Paul Burton","John Thompson","Martin Tobin"],"categories":null,"content":"","date":1189209600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1189209600,"objectID":"c88d63e0da9ec403ffb5970e6ccaacfd","permalink":"https://remlapmot.github.io/talk/2007_iges/","publishdate":"2007-09-08T00:00:00Z","relpermalink":"/talk/2007_iges/","section":"talk","summary":"","tags":[],"title":"An adjusted instrumental-variable model for Mendelian randomization","type":"talk"},{"authors":["Tom Palmer","John Thompson","Martin Tobin"],"categories":null,"content":"","date":1185973200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1185973200,"objectID":"f7e2013b7239ef24b43e1bc5f33bd485","permalink":"https://remlapmot.github.io/talk/2007_iscb/","publishdate":"2007-08-01T13:00:00Z","relpermalink":"/talk/2007_iscb/","section":"talk","summary":"","tags":[],"title":"Meta-analysis of Mendelian randomization studies","type":"talk"},{"authors":["Tom Palmer","John Thompson","Martin Tobin"],"categories":null,"content":"","date":1176382800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1176382800,"objectID":"8e94b2c5209a287174d6f4a560079ff7","permalink":"https://remlapmot.github.io/talk/2007_ysm/","publishdate":"2007-04-12T13:00:00Z","relpermalink":"/talk/2007_ysm/","section":"talk","summary":"","tags":[],"title":"Meta-analysis of Mendelian randomization studies","type":"talk"},{"authors":["Tom Palmer","John Thompson","Martin Tobin"],"categories":null,"content":"","date":1156957200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1156957200,"objectID":"19d5f0cfc4234677497622b378c8e379","permalink":"https://remlapmot.github.io/talk/2006_iscb/","publishdate":"2006-08-30T17:00:00Z","relpermalink":"/talk/2006_iscb/","section":"talk","summary":"","tags":[],"title":"Incorporating measures of study similarity in a meta-analysis","type":"talk"}]