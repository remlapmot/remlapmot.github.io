<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Quarto | Dr Tom Palmer</title>
    <link>https://remlapmot.github.io/tag/quarto/</link>
      <atom:link href="https://remlapmot.github.io/tag/quarto/index.xml" rel="self" type="application/rss+xml" />
    <description>Quarto</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><lastBuildDate>Tue, 18 Feb 2025 00:00:00 +0000</lastBuildDate>
    <image>
      <url>https://remlapmot.github.io/images/icon_hu_72d72b3c768972db.png</url>
      <title>Quarto</title>
      <link>https://remlapmot.github.io/tag/quarto/</link>
    </image>
    
    <item>
      <title>Creating R, Python, Stata, and Julia tutorial worksheets (with and without solutions) using Quarto</title>
      <link>https://remlapmot.github.io/post/2025/quarto-conditional-content/</link>
      <pubDate>Tue, 18 Feb 2025 00:00:00 +0000</pubDate>
      <guid>https://remlapmot.github.io/post/2025/quarto-conditional-content/</guid>
      <description>&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;I regularly need to produce exercises/tutorials for my students. One fantastic feature of R Markdown is that it allows me to create one R Markdown document which can be rendered to both the question document and the solutions document. This is achieved by toggling knitr chunk options such as eval, echo, and include, and using asis chunks to include the text for the solutions. I wrote a little package, 
&lt;a href=&#34;https://remlapmot.github.io/knitexercise/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;knitexercise&lt;/strong&gt;&lt;/a&gt; to help with this.&lt;/p&gt;
&lt;p&gt;The toggling of the knitr chunk options can be parameterised making it possible to have an R script which contains the code to conveniently produce both questions and solutions documents. An example R Markdown file, &lt;em&gt;exercise.Rmd&lt;/em&gt;, might look like the following.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-plaintext&#34;&gt;---
title: &amp;quot;`r params$title`&amp;quot;
output: html_document
params:
  solutions: TRUE
  title: &amp;quot;Example exercise: Solutions&amp;quot;
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(include = params$solutions)
```

1. This is question 1. Which might have some R code you always want to show.

   ```{r, include=TRUE}
   # example code for the question
   ```

   ```{asis}
   Paragraph text for the solution can be kept in the document in an `asis` chunk.
   And solution R code in an `r` chunk.
   Both of these will use the `include` value from the `setup` chunk.
   ```
    
   ```{r}
   # example code for the solution
   ```

2. This is question 2 ...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And the rendering script might look like this.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;rmarkdown::render(&amp;quot;exercise.Rmd&amp;quot;,
  output_file = &amp;quot;exercise-questions&amp;quot;,
  params = list(solutions = FALSE, title = &amp;quot;Example exercise: Questions&amp;quot;)
)

rmarkdown::render(&amp;quot;exercise.Rmd&amp;quot;,
  output_file = &amp;quot;exercise-solutions&amp;quot;
)
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;inline-code&#34;&gt;Inline code&lt;/h3&gt;
&lt;p&gt;Inline code has been a 
&lt;a href=&#34;https://bookdown.org/yihui/rmarkdown-cookbook/r-code.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;feature of R Markdown&lt;/a&gt; for a while. Yihui Xie and Christophe Dervieux have used it to pull off some fantastic tricks. My favourite trick is using it to programmatically write out R Markdown/Markdown code within an R Markdown document when a certain condition is met.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-plaintext&#34;&gt;`r if (knitr::is_latex_output()) &amp;quot;...some_Markdown_to_include_when_rendering_to_pdf...&amp;quot;`
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;the-problem&#34;&gt;The problem&lt;/h3&gt;
&lt;p&gt;R Markdown is incredibly flexible because we can include R objects as document and chunk options. When translating this to a pure Quarto version we can do this in a document using in the knitr engine using the 
&lt;a href=&#34;https://quarto.org/docs/tools/rstudio.html#knitr-engine&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;code&gt;! expr ...&lt;/code&gt; YAML tag literal&lt;/a&gt;. As far as I am aware, this is not yet possible for any other Quarto engine. Despite this my aim was to see whether I could achieve parameterised conditional content inclusion/exclusion in a Quarto document using other engines.&lt;/p&gt;
&lt;h2 id=&#34;programmatically-including-conditional-content-in-quarto-documents&#34;&gt;Programmatically including conditional content in Quarto documents&lt;/h2&gt;
&lt;h3 id=&#34;r-knitr-and-quarto&#34;&gt;R: knitr and Quarto&lt;/h3&gt;
&lt;p&gt;I have already shown the R Markdown approach above.&lt;/p&gt;
&lt;p&gt;For Quarto using the knitr engine, in a blog post 
&lt;a href=&#34;https://nrennie.rbind.io/blog/r-tutorial-worksheets-quarto/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Nicola Rennie&lt;/a&gt; used inline code to write out Quarto&amp;rsquo;s 
&lt;a href=&#34;https://quarto.org/docs/authoring/conditional.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;conditional content classes&lt;/a&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-plaintext&#34;&gt;---
format: html
params:
  hide_answers: true
engine: knitr
---

`r if (params$hide_answers) &amp;quot;::: {.content-hidden}&amp;quot;`

Text and code for answers.

`r if (params$hide_answers) &amp;quot;:::&amp;quot;`
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that if you use the curly braces around the &lt;code&gt;r&lt;/code&gt; to write you inline code then you need to enclose the output string in the 
&lt;a href=&#34;https://quarto.org/docs/computations/inline-code.html#markdown-output&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;code&gt;I()&lt;/code&gt; function&lt;/a&gt; as follows.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-plaintext&#34;&gt;`{r} if (params$hide_answers) I(&amp;quot;::: {.content-hidden}&amp;quot;)`
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then we can have a shell script to render our questions and solutions documents as follows.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-plaintext&#34;&gt;quarto render exercise-r.qmd -o exercise-r-questions.html
quarto render exercise-r.qmd -P hide_answers:false -o exercise-r-solutions.html
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;python&#34;&gt;Python&lt;/h3&gt;
&lt;p&gt;I realised I could adapt Nicola Rennie&amp;rsquo;s approach for other engines. For the &lt;code&gt;jupyter: python3&lt;/code&gt; engine we can do so as follows, the following code uses 
&lt;a href=&#34;https://quarto.org/docs/computations/parameters.html#jupyter&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quarto&amp;rsquo;s parameters feature&lt;/a&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-plaintext&#34;&gt;---
format: html
jupyter: python3
---

```{python}
#| include: false
#| tags: [parameters]
hide_answers = True
```

```{python}
#| include: false
from IPython.display import Markdown
```

`{python} Markdown(&amp;quot;::: {.content-hidden}&amp;quot;) if hide_answers else Markdown(&amp;quot; &amp;quot;)`

```{python}
print(&amp;quot;Hidden in questions&amp;quot;)
```

`{python} Markdown(&amp;quot;:::&amp;quot;) if hide_answers else Markdown(&amp;quot; &amp;quot;)`
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The shell script to render our questions and solutions documents is as follows.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-plaintext&#34;&gt;quarto render exercise-python.qmd -o exercise-python-questions.html
quarto render exercise-python.qmd -P hide_answers:False -o exercise-python-solutions.html
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The only problem with this is that currently the Papermill output cell about the injected parameters is printed in the document.&lt;/p&gt;
&lt;img src=&#34;https://remlapmot.github.io/post/2025/quarto-conditional-content/img/injected-parameters-cell.png&#34; alt=&#34;Screenshot of the injected parameters cell in a Quarto document.&#34; width=&#34;630&#34; style=&#34;display: block; margin: auto;&#34;&gt;
&lt;p&gt;In Jupyter this can apparently be suppressed by passing the &lt;code&gt;--report-mode&lt;/code&gt; flag, but I couldn&amp;rsquo;t work out how to do that in Quarto. I believe it will be possible to suppress this output in future versions of Quarto (I&amp;rsquo;m using the current latest release version of Quarto 1.6.40).&lt;/p&gt;
&lt;h3 id=&#34;stata&#34;&gt;Stata&lt;/h3&gt;
&lt;p&gt;The Stata case involved two additional tricks. First, the 
&lt;a href=&#34;https://hugetim.github.io/nbstata/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;nbstata Jupyter kernel&lt;/a&gt; allows inline code, however this must be a 
&lt;a href=&#34;https://www.stata.com/manuals/pdisplay.pdf&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;code&gt;display&lt;/code&gt; command&lt;/a&gt;, so we cannot write the if statement within the inline code. I found I can overcome this by saving the different strings in scalars (because the inline code can&amp;rsquo;t use local macros) at the top of the document as follows. Second, I didn&amp;rsquo;t try but I suspect the nbstata kernel doesn&amp;rsquo;t support parameters, and so I achieved the toggling of the code using an environmental variable, e.g. &lt;code&gt;HIDE_ANSWERS_STATA&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-plaintext&#34;&gt;---
format: html
jupyter: nbstata
---

```{stata}
*| include: false
local hide_answers : env HIDE_ANSWERS_STATA
if (`hide_answers&#39;) {
    scalar hide_answers_open = &amp;quot;::: {.content-hidden}&amp;quot;
    scalar hide_answers_close = &amp;quot;:::&amp;quot;     
}
else {
    scalar hide_answers_open = &amp;quot; &amp;quot;
    scalar hide_answers_close = &amp;quot; &amp;quot;
}
```

`{stata} scalar(hide_answers_open)`

```{stata}
display &amp;quot;Hidden in questions&amp;quot;
```

`{stata} scalar(hide_answers_close)`
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The shell script to render the documents is then as follows, here we define the environment variable before the call to &lt;code&gt;quarto&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-plaintext&#34;&gt;HIDE_ANSWERS_STATA=1 quarto render exercise-stata.qmd -o exercise-stata-questions.html
HIDE_ANSWERS_STATA=0 quarto render exercise-stata.qmd -o exercise-stata-solutions.html
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;julia&#34;&gt;Julia&lt;/h3&gt;
&lt;p&gt;For the native Julia engine I found that Quarto&amp;rsquo;s parameterisation worked and that I could avoid the inclusion of the injected parameters cell output by leaving the chunk with the &lt;code&gt;parameters&lt;/code&gt; tag empty.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-plaintext&#34;&gt;---
format: html
engine: julia
---

```{julia}
#| tags: [parameters]
```

```{julia}
#| include: false
using Markdown
```

`{julia} hide_answers ? md&amp;quot;::: {.content-hidden}&amp;quot; : md&amp;quot;&amp;quot;`

```{julia}
println(&amp;quot;Hidden in questions&amp;quot;)
```

`{julia} hide_answers ? md&amp;quot;:::&amp;quot; : md&amp;quot;&amp;quot;`
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The shell script to render the documents is then as follows.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-plaintext&#34;&gt;quarto render exercise-julia.qmd -P hide_answers:true -o exercise-julia-questions.html
quarto render exercise-julia.qmd -P hide_answers:false -o exercise-julia-solutions.html
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;problems-with-environment-variables&#34;&gt;Problems with environment variables&lt;/h2&gt;
&lt;p&gt;I found that passing environment variables, to the &lt;code&gt;jupyter: python3&lt;/code&gt; and &lt;code&gt;engine: julia&lt;/code&gt; is unreliable/broken. Admittedly, I was not using Quarto in project mode with an 
&lt;a href=&#34;https://quarto.org/docs/projects/environment.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;em&gt;_environment&lt;/em&gt; file&lt;/a&gt;, but honestly it doesn&amp;rsquo;t feel to me I should need to do that for a single document.&lt;/p&gt;
&lt;p&gt;The problem I found was that after a first render the value of the environment variable seems to be cached within the Quarto output document and I couldn&amp;rsquo;t change it on subsequent renders. I also found that using the 
&lt;a href=&#34;https://pypi.org/project/python-dotenv/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;dotenv&lt;/strong&gt; package&lt;/a&gt; to access was broken in the same way.&lt;/p&gt;
&lt;p&gt;For &lt;code&gt;engine: julia&lt;/code&gt; I also found that passing environment variables is unreliable and like for the &lt;code&gt;jupyter: python3&lt;/code&gt; engine I experienced environment variable values being stuck after the first render. However, using the Julia 
&lt;a href=&#34;https://juliapackages.com/p/dotenv&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;DotEnv&lt;/strong&gt; package&lt;/a&gt; did seem to be reliable.&lt;/p&gt;
&lt;h2 id=&#34;summary&#34;&gt;Summary&lt;/h2&gt;
&lt;p&gt;I have shown how to programmatically include conditional content for several Quarto engines (&lt;code&gt;knitr&lt;/code&gt;, &lt;code&gt;jupyter: python3&lt;/code&gt;, &lt;code&gt;jupyter: nbstata&lt;/code&gt;, and &lt;code&gt;engine: julia&lt;/code&gt;) using parameters or environment variables to toggle inline code to write Quarto Markdown in the Quarto documents. I use this to write exercise/tutorial documents in which a single Quarto document is used to output both the questions and solutions documents.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Creating effectively multi-engine Quarto documents using Quarto&#39;s embed shortcode</title>
      <link>https://remlapmot.github.io/post/2025/multi-engine-quarto/</link>
      <pubDate>Sat, 15 Feb 2025 00:00:00 +0000</pubDate>
      <guid>https://remlapmot.github.io/post/2025/multi-engine-quarto/</guid>
      <description>&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Have you ever needed to present the code and output for several languages in the same document or website? I work in (non-infectious disease) Epidemiology and so it is common that researchers would like to present R and Stata code in the same document. However, a Quarto document can only run a single engine. There are already several work around solutions, which include:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;writing out the different language code cells but making them unevaluated/not executed chunks (this is done alot on the 
&lt;a href=&#34;https://quarto.org/docs/reference/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quarto documentation website&lt;/a&gt;). One can also include saved plots from the different languages;&lt;/li&gt;
&lt;li&gt;if your document has a combination of languages from which you can call one from the other, such as using 
&lt;a href=&#34;https://rstudio.github.io/reticulate/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;reticulate&lt;/strong&gt;&lt;/a&gt; from within R to run Python, or using 
&lt;a href=&#34;https://cran.r-project.org/package=Statamarkdown&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;Statamarkdown&lt;/strong&gt;&lt;/a&gt; from within R to run Stata, or using 
&lt;a href=&#34;https://cran.r-project.org/package=JuliaCall&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;JuliaCall&lt;/strong&gt;&lt;/a&gt; from within R to run Julia, then these can be combined in a Quarto document;&lt;/li&gt;
&lt;li&gt;or for some languages like R and Python we could even embed full WebAssembly implementations of the language (
&lt;a href=&#34;https://docs.r-wasm.org/webr/latest/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;WebR&lt;/a&gt; and 
&lt;a href=&#34;https://pyodide.org/en/stable/#&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Pyodide&lt;/a&gt; respectively) within a webpage (which admittedly seems a little overkill for my work).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I&amp;rsquo;ve found an alternative solution allowing you to use the native engines for each language. I recently stumbled across 
&lt;a href=&#34;https://quarto.org/docs/authoring/notebook-embed.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quarto&amp;rsquo;s embed shortcode&lt;/a&gt;. This allows another (or selected cells from another) Quarto document to be embedded in a Quarto document. A thought occurred to me, what if the embedded Quarto document/s used a different engine? Would that work? This isn&amp;rsquo;t explicitly mentioned on the documentation page, so I gave it a go. Remarkably, the answer turns out to be that it works! Let&amp;rsquo;s find out what to do.&lt;/p&gt;
&lt;h2 id=&#34;using-the-embed-shortcode-to-create-an-effectively-multi-engine-quarto-document&#34;&gt;Using the embed shortcode to create an effectively multi-engine Quarto document&lt;/h2&gt;
&lt;p&gt;In the example below I&amp;rsquo;m using a 
&lt;a href=&#34;https://quarto.org/docs/output-formats/html-basics.html#tabsets&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;tabset&lt;/a&gt; in a html document using the knitr engine. We embed the documents using the alternative engines for Python, Stata, and Julia using the &lt;code&gt;{{&amp;lt; embed &amp;gt;}}&lt;/code&gt; shortcode as shown below. For each language I just show printing a string and a basic plot.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-markdown&#34;&gt;---
title: An effectively multi-engine Quarto document using the embed shortcode
format:
  html:
    embed-resources: true
engine: knitr
---

::: {.panel-tabset .nav-pills}
## R

```{r}
print(&amp;quot;Hello World, from R&amp;quot;)
```

```{r}
#| fig-align: &amp;quot;center&amp;quot;
x &amp;lt;- seq(-10,10, by = 0.1)
y &amp;lt;- x ^ 3
plot(x, y, type = &amp;quot;l&amp;quot;)
```

## Python

{{&amp;lt; embed python-code-using-jupyter-python3-engine.qmd echo=true &amp;gt;}}

## Stata

{{&amp;lt; embed stata-code-using-jupyter-nbstata-engine.qmd echo=true &amp;gt;}}

## Julia

{{&amp;lt; embed julia-code-using-julia-engine.qmd echo=true &amp;gt;}}

:::
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;the &lt;em&gt;python-code-using-jupyter-python3-engine.qmd&lt;/em&gt; document uses the &lt;code&gt;jupyter: python3&lt;/code&gt; engine (
&lt;a href=&#34;https://quarto.org/docs/computations/python.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;documentation for using Python in Quarto&lt;/a&gt;);&lt;/li&gt;
&lt;li&gt;the &lt;em&gt;stata-code-using-jupyter-nbstata-engine.qmd&lt;/em&gt; document uses the &lt;code&gt;jupyter: nbstata&lt;/code&gt; engine (
&lt;a href=&#34;https://hugetim.github.io/nbstata/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;documentation for nbstata&lt;/a&gt;);&lt;/li&gt;
&lt;li&gt;and the &lt;em&gt;julia-code-using-julia-engine.qmd&lt;/em&gt; uses &lt;code&gt;engine: julia&lt;/code&gt;. Alternatively, it should be possible to use the 
&lt;a href=&#34;https://julialang.github.io/IJulia.jl/stable/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;IJulia&lt;/a&gt; Jupyter kernel (
&lt;a href=&#34;https://quarto.org/docs/computations/julia.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;documentation for using Julia in Quarto&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Of course, I assume that you have setup each engine beforehand.&lt;/p&gt;
&lt;p&gt;Rendering the Quarto document above results in the embedded documents being executed and embedded within it. I&amp;rsquo;ve included the output below (and the full source code is in 
&lt;a href=&#34;https://github.com/remlapmot/quarto-multi-engine-using-embed-example&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;this repository&lt;/a&gt;). Click the tabs to show the code and output for each language.&lt;/p&gt;
&lt;p align=&#34;center&#34;&gt;
&lt;iframe src=&#34;https://remlapmot.github.io/quarto-multi-engine-using-embed-example/&#34; height=&#34;1075&#34; width=&#34;800&#34;&gt;
&lt;/iframe&gt;
&lt;/p&gt;
&lt;p&gt;In the code above, in each case, I embed the whole Quarto document but you can also specify a specific code block id (or if the embedded document is a Jupyter Notebook, &lt;em&gt;.ipynb&lt;/em&gt; file, you can specify a cell id, label, or tag).&lt;/p&gt;
&lt;h2 id=&#34;summary&#34;&gt;Summary&lt;/h2&gt;
&lt;p&gt;I have shown how to use the Quarto embed shortcode to embed Quarto documents using alternative engines to create an effectively multi-engine Quarto document.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Seven tips for creating Quarto revealjs presentations</title>
      <link>https://remlapmot.github.io/post/2025/quarto-revealjs-tips/</link>
      <pubDate>Sun, 19 Jan 2025 00:00:00 +0000</pubDate>
      <guid>https://remlapmot.github.io/post/2025/quarto-revealjs-tips/</guid>
      <description>&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Like alot of lecturers I&amp;rsquo;m teaching at the moment. If I have a presentation to do that&amp;rsquo;s mainly images I&amp;rsquo;ll use Powerpoint or Google Slides. If the presentation includes maths or code or both I used to use LaTeX Beamer. Over the years I have grown tired of Beamer and so I thought I&amp;rsquo;d try making some revealjs presentations using Quarto.&lt;/p&gt;
&lt;p&gt;Revealjs has been around far longer than Quarto, I remember seeing a colleague present using revealjs in about 2012, and you can happily make a revealjs presentation without Quarto. However, the convenience of writing in the Quarto Markdown format is fantastic.&lt;/p&gt;
&lt;p&gt;To learn the basics of making revealjs slides with Quarto I recommend reading 
&lt;a href=&#34;https://quarto.org/docs/presentations/revealjs/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;the user guide&lt;/a&gt;. And full documentation is available 
&lt;a href=&#34;https://quarto.org/docs/reference/formats/presentations/revealjs.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt; and 
&lt;a href=&#34;https://quarto.org/docs/presentations/revealjs/advanced.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The following tips are solutions to little hurdles that I found I needed to overcome when making my first revealjs presentations using Quarto.&lt;/p&gt;
&lt;h2 id=&#34;1-slide-size-and-testing-on-a-smaller-display-size-on-your-own-monitor&#34;&gt;1. Slide size and testing on a smaller display size on your own monitor&lt;/h2&gt;
&lt;p&gt;The great thing about making a presentation in Powerpoint or Google Slides is that you can instantly see if your content fits on a slide. So it helps to have an understanding of how big a slide is. By default a revealjs slide is 
&lt;a href=&#34;https://quarto.org/docs/presentations/revealjs/advanced.html#presentation-size&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;1050px wide by 700px tall&lt;/a&gt;. This helps you when setting the size of figures and code blocks.&lt;/p&gt;
&lt;p&gt;Additionally it is helpful to be able to preview your slides on the size on monitor you will be presenting on. My University has 1080p monitors in most lecture theatres, however, my monitor is bigger than that. Chrome allows setting the size of the display by opening Developer Tools (Three dots | More tools | Developer Tools). Then you can enter the desired resolution in the top bar as follows (a 1080p screen is 1080 pixels tall and 1920 pixels wide).&lt;/p&gt;
&lt;img src=&#34;https://remlapmot.github.io/post/2025/quarto-revealjs-tips/img/slide-size-and-1080p.png&#34; alt=&#34;Screenshot of using Google Chrome developer tools to inspect the size of a slide and to preview the slides at 1080p resolution.&#34; width=&#34;700&#34; style=&#34;display: block; margin: auto;&#34;&gt;
&lt;p&gt;I find this especially helpful when working on a Mac, whose laptops often have unusual screen resolutions.&lt;/p&gt;
&lt;h2 id=&#34;2-wider-width-cutoff-in-code-chunks&#34;&gt;2. Wider width cutoff in code chunks&lt;/h2&gt;
&lt;p&gt;Vertical space on a slide is at a premium. Therefore, in a presentation I line break my code wider that I do when coding normally. As described in the 
&lt;a href=&#34;https://bookdown.org/yihui/rmarkdown-cookbook/opts-tidy.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;RMarkdown cookbook&lt;/a&gt; and in 
&lt;a href=&#34;https://github.com/quarto-dev/quarto-cli/issues/5852&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;this GitHub issue&lt;/a&gt; we can enable the use of the &lt;strong&gt;formatR&lt;/strong&gt; package on a code chunk using the &lt;code&gt;tidy&lt;/code&gt; and &lt;code&gt;tidy-opts&lt;/code&gt; chunk options (I think the default is 85 characters, so I choose a value greater than that. I find that 110 is about the widest I can set).&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-markdown&#34;&gt;```{r}
#| tidy: TRUE
#| tidy-opts: !expr list(width.cutoff = I(110))
# ... Wide R code here ...
```
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can also set these globally for the Quarto document in either the YAML header,&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;knitr:
  opts_chunk: 
    tidy: TRUE
    tidy-opts: !expr list(width.cutoff = I(110))
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or in a chunk at the top of your Quarto document.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-markdown&#34;&gt;```{r}
#| include: false
knitr::opts_chunk$set(tidy = TRUE, tidy.opts = list(width.cutoff = I(110)))
```
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;3-taller-code-chunks&#34;&gt;3. Taller code chunks&lt;/h2&gt;
&lt;p&gt;Code chunks come in several flavours in a rendered presentation. There are code input chunks, code output chunks, and chunks for any code output errors. To make the input code chunks taller there is a convenient 
&lt;a href=&#34;https://quarto.org/docs/presentations/revealjs/#code-block-height&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quarto option &lt;code&gt;code-block-height&lt;/code&gt;&lt;/a&gt; which is specified in the YAML header (the default is 500px, so pick a value greater than that).&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
format:
  revealjs:
    code-block-height: 650px
---
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;4-taller-code-output-chunks&#34;&gt;4. Taller code output chunks&lt;/h2&gt;
&lt;p&gt;Currently, there doesn&amp;rsquo;t seem to be a Quarto option to make the code output chunks taller. Therefore I had to inspect the source code of the html slides to find out how to modify this. In most browsers simply right click on a slide and in Chrome click &lt;em&gt;Inspect&lt;/em&gt; - do this over the element on the page you want to find out about.&lt;/p&gt;
&lt;img src=&#34;https://remlapmot.github.io/post/2025/quarto-revealjs-tips/img/chrome-context-menu-inspect.png&#34; alt=&#34;Screenshot of Google Chrome context menu.&#34; width=&#34;600&#34; style=&#34;display: block; margin: auto;&#34;&gt;
&lt;p&gt;Doing so over a code output cell shows the developer tools on the right handside. We can then see that the elements and classes for the code output cell are given just above the bottom right pane, i.e., &lt;code&gt;div.cell div.cell-output.cell-output-stdout pre code&lt;/code&gt;.&lt;/p&gt;
&lt;img src=&#34;https://remlapmot.github.io/post/2025/quarto-revealjs-tips/img/inspect-output-cell.png&#34; alt=&#34;Screenshot of using Google Chrome developer tools to inspect the CSS class of an element of a code output cell.&#34; width=&#34;500&#34; style=&#34;display: block; margin: auto;&#34;&gt;
&lt;p&gt;Therefore, we can make the code output cell have a taller maximum height by specifying &lt;code&gt;max-height&lt;/code&gt; as follows in a CSS file which we reference in the YAML header. Note that the default is 400px, so choose a value larger than that.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-yaml&#34;&gt;---
format:
  revealjs:
    css: custom.css
---
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The contents of &lt;em&gt;custom.css&lt;/em&gt; use the elements and classes of the code chunk we discovered as follows.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-css&#34;&gt;.cell .cell-output-stdout pre code {
  max-height: 650px; // Adjust this value as needed
  overflow-y: auto; // Add this to handle overflow
}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;5-embedding-interactive-mentimeter-presentations&#34;&gt;5. Embedding interactive Mentimeter presentations&lt;/h2&gt;
&lt;p&gt;Mentimeter provides the html code required to embed a presentation within an html document. To obtain this, go into a presentation and click the &lt;em&gt;Share&lt;/em&gt; button, then select the &lt;em&gt;Slides&lt;/em&gt; tab, then click &lt;em&gt;Copy code&lt;/em&gt; under &lt;em&gt;Embed slides&lt;/em&gt;.&lt;/p&gt;
&lt;img src=&#34;https://remlapmot.github.io/post/2025/quarto-revealjs-tips/img/mentimeter-share-iframe-code.png&#34; alt=&#34;Screenshot of the menu to copy the html code to embed a Mentimeter presentation.&#34; width=&#34;700&#34; style=&#34;display: block; margin: auto;&#34;&gt;
&lt;p&gt;This results in a div containing an iframe, which we can simply paste in as the content of our slide (I have added the line breaks and replaced part of the URL to my presentation with hashes).&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-markdown&#34;&gt;## My slide with an embedded Menti

&amp;lt;div style=&#39;position: relative; padding-bottom: 56.25%; padding-top: 35px;
  height: 0; overflow: hidden;&#39;&amp;gt;
&amp;lt;iframe sandbox=&#39;allow-scripts allow-same-origin allow-presentation&#39;
  allowfullscreen=&#39;true&#39; allowtransparency=&#39;true&#39; frameborder=&#39;0&#39; height=&#39;315&#39;
  src=&#39;https://www.mentimeter.com/app/presentation/###############/embed&#39;
  style=&#39;position: absolute; top: 0; left: 0; width: 100%; height: 100%;&#39;
  width=&#39;420&#39;&amp;gt;
&amp;lt;/iframe&amp;gt;
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But when I first rendered a presentation using this code I didn&amp;rsquo;t see my Mentimeter presentation in the relevant slide but rather the following spinning dots.&lt;/p&gt;
&lt;img src=&#34;https://remlapmot.github.io/post/2025/quarto-revealjs-tips/img/menti-failing-to-load.gif&#34; alt=&#34;Animated GIF of the spinning dots when a Mentimeter presentation is incorrectly embedded in an HTML document.&#34; width=&#34;170&#34; style=&#34;display: block; margin: auto;&#34;&gt;
&lt;p&gt;Thanks 
&lt;a href=&#34;https://stackoverflow.com/questions/79092017/quarto-markdown-to-revealjs-or-html-desmos-embedded-iframes-not-loading&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;to this post&lt;/a&gt; it turns out this is because I had specified &lt;code&gt;embed-resources: true&lt;/code&gt; in my revealjs options in the YAML header. When you do this you need to add the &lt;code&gt;data-external=&amp;quot;1&amp;quot;&lt;/code&gt; attribute to the iframe 
&lt;a href=&#34;https://quarto.org/docs/reference/formats/presentations/revealjs.html#rendering&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;as detailed in the Quarto documentation&lt;/a&gt; as follows.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-html&#34;&gt;&amp;lt;iframe data-external=&amp;quot;1&amp;quot; sandbox=...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And then my Mentimeter presentation was correctly embedded in the slide as per the screenshot at the 
&lt;a href=&#34;#top&#34;&gt;top of this post&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&#34;6-disable-html-table-processing-for-some-tables&#34;&gt;6. Disable HTML table processing for some tables&lt;/h2&gt;
&lt;p&gt;There are now so many fantastic R packages for html table generation. My two favourite are 
&lt;a href=&#34;https://www.danieldsjoberg.com/gtsummary/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;gtsummary&lt;/strong&gt;&lt;/a&gt; and 
&lt;a href=&#34;https://strengejacke.github.io/sjPlot/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;sjPlot&lt;/strong&gt;&lt;/a&gt;. However, I notice that for some &lt;strong&gt;sjPlot&lt;/strong&gt; tables Quarto issues the following warning when rendering the slides.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-plaintext&#34;&gt;WARNING (/Applications/quarto/share/filters/main.lua:9319) Unable to parse table from raw html block: skipping.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To avoid this it&amp;rsquo;s possible to 
&lt;a href=&#34;https://quarto.org/docs/authoring/tables.html#disabling-quarto-table-processing&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;disable Quarto&amp;rsquo;s html table processing&lt;/a&gt; using the &lt;code&gt;html-table-processing&lt;/code&gt; argument either at the document or chunk level. Here is an example slide doing so at the chunk level.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-markdown&#34;&gt;## Slide presenting a multilevel model

```{r}
#| html-table-processing: none
library(sjPlot)
library(lme4)
fm1 &amp;lt;- lmer(Reaction ~ Days + (Days | Subject), sleepstudy)
tab_model(fm1)
```
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;7-programmatic-rendering-and-pdf-export-for-printing&#34;&gt;7. Programmatic rendering and pdf export for printing&lt;/h2&gt;
&lt;p&gt;To render a Quarto document we can click the &lt;em&gt;Render&lt;/em&gt; button in RStudio, but I find it easier to make a &lt;em&gt;render.R&lt;/em&gt; script with a call to the 
&lt;a href=&#34;https://quarto-dev.github.io/quarto-r/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;strong&gt;quarto&lt;/strong&gt;&lt;/a&gt; package&amp;rsquo;s &lt;code&gt;quarto_render()&lt;/code&gt; function.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s helpful to provide students with a pdf copy of the slides for printing. You can do this in a browser through the print menu or programmatically using &lt;strong&gt;pagedown&lt;/strong&gt;&amp;rsquo;s &lt;code&gt;chrome_print()&lt;/code&gt; function. When I called this function with no options the page size of the pdf was unusual, producing pages with neither A4 nor US paper size, so I call it as follows to ensure an A4 page size.&lt;/p&gt;
&lt;p&gt;Therefore, my &lt;em&gt;render.R&lt;/em&gt; script often looks something like the following.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;quarto::quarto_render(input = &amp;quot;my-great-slides.qmd&amp;quot;)

pagedown::chrome_print(&amp;quot;my-great-slides.html&amp;quot;, 
  options = 
    list(
      printBackground = FALSE,
      preferCSSPageSize = FALSE, 
      paperWidth = 8.3, paperHeight = 11.7, 
      marginTop = 0.1, marginBottom = 0.1, 
      marginLeft = 0.1, marginRight = 0.1))
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I usually find that a few slides have slightly too much content for an A4 page, and so those slides will take up 2 pages in the pdf. And hence the pdf usually has a few more pages than the number of slides.&lt;/p&gt;
&lt;h2 id=&#34;summary&#34;&gt;Summary&lt;/h2&gt;
&lt;p&gt;I have shown seven tips that I needed to workout when making revealjs presentations with Quarto.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
