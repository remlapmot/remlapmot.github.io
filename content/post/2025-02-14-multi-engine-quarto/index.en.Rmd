---
title: '(Effectively) Multi-engine Quarto documents using Quarto's embed shortcode'
author: Package Build
date: '2025-02-16'
slug: multi-engine-quarto
categories:
  - Blog
tags:
  - Quarto
  - R
  - Stata
  - Python
  - Julia
  - Jupyter
subtitle: ''
summary: ''
authors: []
lastmod: '2025-02-16T12:00:00+00:00'
featured: no
image:
  caption: ''
  focal_point: 'Center'
  preview_only: no
  alt_text: 'Screenshot of a tabset showing code and output in different languages.'
projects: []
toc: true
---

## Introduction

Have you ever needed to present the code and output for several languages in the same document or website? Of course there are already several solutions even within Quarto available. Those might include:

* simply writing out the different language code cells but making them not evaluated, one could even include saved plots from the different languages (this is done alot on the Quarto website);
* if you had a combination of languages from which you can call one from the other, such as using **reticulate** from within R to run Python, then these can be combined in a single engine Quarto document.

However, the other day I stumbled across [Quarto's embed shortcode](https://quarto.org/docs/authoring/notebook-embed.html). This allows another (or selected cells from another) Quarto document to be included/embedded in a Quarto document. A thought occurred to me, what if the embedded Quarto document used a different engine? Would that work? Remarkably the answer turns out to be that it does work!

## Using the embed shortcode

We start our Quarto document using either the knitr or Jupyter python3 engine then we can embed the documents using the alternative engines as follows (here I'm using a [tabset](https://quarto.org/docs/output-formats/html-basics.html#tabsets) in a html document).

````{verbatim, lang="markdown"}
---
format:
  html:
    embed-resources: true
engine: knitr
---

::: {.panel-tabset}
## R

```{r}
fizz_buzz <- function(fbnums = 1:50) {
  output <- dplyr::case_when(
    fbnums %% 15 == 0 ~ "FizzBuzz",
    fbnums %% 3 == 0 ~ "Fizz",
    fbnums %% 5 == 0 ~ "Buzz",
    TRUE ~ as.character(fbnums)
  )
  print(output)
}
```

## Python

{{< embed _python-code.qmd >}}

## Stata

{{< embed _stata-code.qmd >}}

## Julia

{{< embed _julia-code.qmd >}}

:::
````

* *_python-code.qmd* uses `jupyter: python3`
* *_stata-code.qmd* uses `jupyter: nbstata`
* *_julia-code.qmd* uses `engine: julia` or the IJulia Jupyter kernel
