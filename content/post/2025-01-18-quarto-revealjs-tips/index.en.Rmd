---
title: 'Some tips for working with Quarto revealjs presentations'
author: Package Build
date: '2025-01-20'
slug: quarto-revealjs-tips
categories:
  - Blog
tags:
  - Quarto
  - R
  - revealjs
subtitle: ''
summary: 'Some tips including; wider code styling, taller input and output code chunks, embedding Mentimeter presentations, disabling HTML table processing, and programmatic rendering and pdf export.'
authors: []
lastmod: '2025-01-20T09:15:00+00:00'
featured: no
image:
  caption: ''
  focal_point: 'Center'
  preview_only: no
  alt_text: 'Screenshot of a Mentimeter presentation embedded in a Quarto revealjs html slide.'
projects: []
---

## Introduction

Like alot of lecturers I'm teaching at the moment. If I have a presentation to do that's mainly images I'll use Powerpoint or Google Slides, and if I have alot of maths or code or both I used to use LaTeX Beamer presentations. Over the years I have grown tired of Beamer and so I thought I'd try making some revealjs presentations using Quarto.

Revealjs has been around far longer than Quarto, I remember seeing a colleague present using revealjs in about 2008, and you can happily make a revealjs presentation without Quarto. However, the convenience of writing in the Quarto Markdown format is of course a game changer.

The following tips are solutions to little hurdles that I found I needed to overcome.

## Wider code styling

Apparently monitors are wider than they are tall so we can easily watch films on our computer. This means that vertical space on a slide is at a premium. Therefore, in a presentation I line break my code wider that I do when coding normally. You can implement this using the **styler** package with the following code.

```r
styler::style_file(TODO)
```

## Taller code chunks

Code chunks come in several flavours in a rendered presentation. There are code input chunks, code output, and chunks for any code output errors. To make the input code chunks taller there is a convenient Quarto option `code-block-height` which is specified in the YAML header (the default is TODOpx, so pick a value greater than that).

```yaml
---
format:
  revealjs:
    code-block-height: 650px
---
```

## Taller code output chunks

Currently, there doesn't seem to be a Quarto option to make the code output chunks taller. Therefore I had to inspect the source code the html slides. In most browsers simply right click on a slide and in Chrome click _Inspect_.

<img src="/post/2025/quarto-revealjs-tips/img/chrome-context-menu-inspect.png" alt="Screenshot of Google Chrome context menu." width="200" style="display: block; margin: auto;">

We can then see that the CSS classes for some code output is given in the TODO pane.

TODO SCREENSHOT HERE

Therefore, we can make this have a taller maximum height by specifying `max-height` as follows. Note that the default is 400px, so choose a value larger than that.

```css
.cell .cell-output-stdout pre code {
  max-height: 650px; // Adjust this value as needed
  overflow-y: auto; // Add this to handle overflow
}
```

## Embedding interactive Mentimeter presentations

Mentimeter provides the html code required to embed a presentation within an html document. To obtain this, go into a presentation and click the _Share_ button, then select the _Slides_ tab, then click _Copy code_ under _Embed slides_.

<img src="/post/2025/quarto-revealjs-tips/img/mentimeter-share-iframe-code.png" alt="Screenshot of the menu to copy the html code to embed a Mentimeter presentation." width="630" style="display: block; margin: auto;">

This results in a div containing an iframe, which looks like this (I have added the line breaks and replaced the id code to my presentation with hashes).

```html
<div style='position: relative; padding-bottom: 56.25%; padding-top: 35px;
  height: 0; overflow: hidden;'>
<iframe sandbox='allow-scripts allow-same-origin allow-presentation'
  allowfullscreen='true' allowtransparency='true' frameborder='0' height='315'
  src='https://www.mentimeter.com/app/presentation/###############/embed'
  style='position: absolute; top: 0; left: 0; width: 100%; height: 100%;'
  width='420'>
</iframe>
</div>
```

When I first rendered a presentation using this code I didn't see my Mentimeter presentation in the relevant slide but rather the following spinning dots.

<img src="/post/2025/quarto-revealjs-tips/img/menti-failing-to-load.gif" alt="Animated GIF of the spinning dots when a Mentimeter presentation is incorrectly embedded in an HTML document." width="170" style="display: block; margin: auto;">

Thanks [to this post](https://stackoverflow.com/questions/79092017/quarto-markdown-to-revealjs-or-html-desmos-embedded-iframes-not-loading) it turns out this is because I had specified `embed-resources: true` in my revealjs options in the YAML header. When you do this you need to add the `data-external="1"` attribute to the iframe [as detailed in the Quarto documentation](https://quarto.org/docs/reference/formats/presentations/revealjs.html#rendering) as follows.

```html
<iframe data-external="1" sandbox=...
```

And then my Mentimeter presentation was correctly embedded in the slide as per the screenshot at the top of this post.

## Disable HTML table processing for some tables

There are now so many fantastic R packages for html table generation. My two favourite are [**gtsummary**](https://www.danieldsjoberg.com/gtsummary/) and [**sjPlot**](https://strengejacke.github.io/sjPlot/). However, I notice that for some **sjPlot** tables Quarto issues the following warning when rendering the slides.

```plaintext
WARNING (/Applications/quarto/share/filters/main.lua:9319) Unable to parse table from raw html block: skipping.
```

To avoid this it's possible to [disable Quarto's html table processing](https://quarto.org/docs/authoring/tables.html#disabling-quarto-table-processing) using the `html-table-processing` argument either at the document or chunk level. Here is an example slide doing so at the chunk level.

````{verbatim, lang="markdown"}
## Slide presenting a multilevel model

```{r}
#| html-table-processing: none
library(sjPlot)
library(lme4)
fm1 <- lmer(Reaction ~ Days + (Days | Subject), sleepstudy)
tab_model(fm1)
```
````

## Programmatic rendering and pdf export for printing

Of course one can click the _Render_ button in RStudio, but I find it easier to keep a _render.R_ script with a call to `quarto::quarto_render()`.

It's helpful to provide the students with a pdf copy of the slides for printing. You can do this in a browser or programmatically using **pagedown**'s `chrome_print()` function. When I called this function with no options the page size of the pdf was unusual, producing pages with neither A4 nor US paper size, so I call it as follows to ensure an A4 page size.

Therefore, my _render.R_ script often looks something like the following.

```r
quarto::quarto_render(input = "my-great-slides.qmd")

pagedown::chrome_print("my-great-slides.html", 
  options = 
    list(printBackground = FALSE, preferCSSPageSize = FALSE, 
      paperWidth = 8.3, paperHeight = 11.7, 
      marginTop = 0.1, marginBottom = 0.1, marginLeft = 0.1, marginRight = 0.1))
```

## Summary

I have shown a few tips that I needed to workout when making revealjs presentations with Quarto.
