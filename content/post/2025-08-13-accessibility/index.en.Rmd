---
title: "Seven accessibility tip for Quarto and R Markdown users"
author: Package Build
date: '2025-08-15'
slug: accessibility
categories:
  - Blog
tags:
  - Quarto
  - R
  - R Markdown
subtitle: ''
summary: "Seven top tips for Quarto and R Markdown users on document accessibility."
authors: []
lastmod: '2025-08-15T07:00:00+00:00'
featured: no
image:
  caption: ''
  focal_point: 'Center'
  preview_only: no
  alt_text: 'Screenshot of selecting the Ally Accessibility Checker 1.3 within Blackboard online learning environment.'
projects: []
toc: true
---

## Introduction

When teaching, for my practicals and for about half of my lectures I find myself preparing them using R Markdown and laterly Quarto. I enjoy preparing the material in R Markdown and Quarto because it gives me a reproducible way of regenerating my material every year.

Recently, the subject of accessibility has become more prominent within Universities. And indeed in the UK and in many other countries we are legally obliged to produce accessible learning materials that do not disadvantage disabled students.

My University uses Blackboard for its online learning environment (OLE)/learning management system (LMS). There are other OLEs, e.g., Moodle, Canvas, and others. They all work in essentially the same way in that they provide a website per Unit/Module within a secure online system. Every document I upload into Blackboard receives and accessibility score and each module I teach receives an overall accessibility score. My University uses Ally Accessibility Report LTI 1.3 to generate these scores. My university doesn't have a rule about what's an acceptable score for either a document or a course.

What follows is a set of tips I (think I) have discovered which help improve the score for individual documents and hence your overall module accessibility score.

## Tip 1: For the quick win replace all pdfs with docx, pptx, or html documents

For a pdf to get a high accessibility score it needs to be a special type of pdf called a 'tagged pdf', otherwise it will get a very low score (approx. 6%).

As I will show in the following tips, it is much easier to make Word, Powerpoint, and html documents accessible. If you are looking for the most effective boost to your accessibility scores simply remove all pdf documents from your site and replace them with Word, Powerpoint, or html documents.

## Tip 2: Add alt text to all figures

I guess like many R users the first I remember hearing about accessibility was that there is this thing called alt text and it's good practice for html documents to provide alt text summaries of every image they contain. Then screen readers have a description of the image for visually impaired readers using a screen reader.

It turns out that other types of document can also hold alt text for images; including Word, Powerpoint, and pdf documents.

As per tip 1, let's say we have a Quarto (or R Markdown) document which we render to docx and html output formats. To add alt text to figures in the html document we can use the `fig-alt` (`fig.alt` in R Markdown) chunk option. However, it turns out that alt text for a Word document is taken from the `fig-cap` (`fig.cap` in R Markdown) chunk option. Therefore, I specify both `fig-alt` and `fig-cap` chunk options in all code chunks generating figures. Therefore my code chunks generating figures look like the following.

````{verbatim, lang='plaintext'}
```{r}
#| fig-cap: Kaplan-Meier survival curve.
#| fig-alt: Plot of a Kaplan-Meier survival curve.
# code to generate plot
```
````

## Tip 3: (The surprising headache that is) Creating tagged pdfs ðŸ˜¬ðŸ¤¯

It is possible for a pdf to obtain a perfect accessibility score; but as I said above it must be a tagged pdf.

You can check if a pdf has tags by opening it in Adobe Acrobat Reader then bringing up the document properties window. The information is in the bottom left of the _Description_ tab (on Windows I found that SumatraPDF also reported that information but on macOS I found I couldn't see this reported in the Preview app).

<img src="/post/2025/accessibility/img/adobe-reader-pdf-info.png" alt="Screenshot of document properties tab in Adobe Acrobat Reader." width="630" style="display: block; margin: auto;">

It turns out that we can create tagged pdfs in a few ways; 

* by exporting a Word or Powerpoint document to pdf within those programs
  * note when exporting to pdf on macOS, users must select the _Best for electronic distribution and accessibility..._ option
    <img src="/post/2025/accessibility/img/powerpoint-macos-pdf-export.png" alt="Screenshot of Powerpoint export to pdf window on macOS." width="630" style="display: block; margin: auto;">  
  * Word and Powerpoint for Windows and Word and Powerpoint online export tagged pdfs by default
* by printing html documents to pdf (Print | Save as pdf) in Chrome (and the other Chromium based browsers such as Edge)
  * In my testing I find that by default Safari and Firefox do not generate tagged pdfs
* Of course the paid for professional version of Adobe Acrobat allows users to [add tags to pdfs](https://helpx.adobe.com/uk/acrobat/using/editing-document-structure-content-tags.html), but I don't have that, and I assuming you don't either.

The surprise here is that pdf documents produced by LaTeX and typst by default do not (yet) generate tagged pdfs. Therefore, do not render to `pdf`/`typst` output formats in Quarto nor `pdf_document` in R Markdown (nor `pdf_document2` in bookdown).

### Generating tagged pdfs in LaTeX

It turns out it [is possible to generate a tagged pdf from LaTeX](https://latex3.github.io/tagging-project/documentation/prototype-usage-instructions), but this is extrememly inconvenient from R Markdown and Quarto. First use Quarto/R Markdown to generate the TeX file of your document, e.g. in [Quarto specify either](https://quarto.org/docs/output-formats/pdf-basics.html#latex-output)

```yaml
format:
  pdf:
    keep-tex: true
``` 

or the latex output format.

```yaml
format:
  latex
```

You then require [the following LaTeX packages](https://tex.stackexchange.com/a/605142).

```r
tinytex::tlmgr_install(c('latex-lab', 'pdfmanagement-testphase', 'tagpdf', 'luamml'))
```

You then need to amend the very top of your TeX file to have a `\DocumentMetadata{tagging=on}` entry. And possibly using the _unicode-math_ package is helpful. Therefore the beginning of your TeX file will look like the following.

```latex
\DocumentMetadata{tagging=on}
\documentclass{article}
\usepackage{unicode-math}
\begin{document}
% the rest of your document ...
\end{document}
```

When I tried this I found that compiling with LuaLaTeX did generate a tagged pdf.

```sh
lualatex mydocument.tex
```

But I cannot face going through this hassle for every document I produce. So the slightly unexpected take home message here is that if you want to give your students a pdf document, the most convenient way to produce a tagged pdf is to render your Quarto document to docx or html and then export the pdf from within either Word or Chrome.

## Tip 4: Table accessibility

I find that tables generated using the Markdown syntax generate warnings in Ally Accessibility Checker 1.3. It reports it can't find the header row. However, I find that tables generated using the **gt** package, and other table packages usually pass Ally Accessibility Checker. So I now avoid creating tables using Markdown syntax.

## Tip 5: Custom Word document templates

If you want to use a template Word document for your docx output it needs to be based on the underlying Pandoc docx template. You can obtain that by running

```sh
pandoc --print-default-data-file reference.docx > reference.docx
```

You can then adjust the formatting of the various styles in the _Styles Pane_.

If you say add a header to this document that includes an image if you run the Microsoft Accessibility Checker on the document it will give you the option of upgrading the document format to allow you to specify alt text for any images you've added. This is worth doing.

## Tip 6: Uploading Quarto/complex html documents into Blackboard Ultra

My university has just upgraded to the latest version of Blackboard. Prior to this upgrade I had no trouble uploading any type of document. But now if I try to upload html documents with embedded resources from Quarto the upload animation hangs and the file is not uploaded.

It turns out this is because Blackboard scans every document we upload, which it calls its content sanitization check. For some reason Quarto html documents, including revealjs html slide decks, are now too complex and fail this check. Annoyingly, Blackboard does not emit any error message to tell us this. However, there is a workaround.

* First, put your html file into a zip archive
* Then from within your module site, go to Course Content when adding an item
* Then select _Upload Zip Package_ (choosing any other option will fail)
  <img src="/post/2025/accessibility/img/blackboard-upload-zip-package.png" alt="Screenshot of uploading a zip package of a Quarto html file." width="630" style="display: block; margin: auto;">
* Make sure to select the button to overwrite an existing file with the same name
* And click Ok and that's it.

This method seems to be the only way to bypass the scanning of the html file. Note if you attempt to upload the zip archive from your Course Content area, the upload will also fail (you need to do this from within the course site).

## Tip 7: Different accessibility checkers can report different results

Microsoft have built accessibility checkers into alot of their Office suite. Access this from the Review tab then _Check Accessibility_.

<img src="/post/2025/accessibility/img/microsoft-ribbon-accessibility.png" alt="Screenshot of accessing the accessibility checker within Microsoft Word." width="630" style="display: block; margin: auto;">

Compared to Accessibility Checker 1.13 I find this checks for more conditions. I also find that most of the time this agrees with the Accessibility Checker 1.13. But sometimes they don't agree, e.g., the Microsoft checker reported that some slide numbers in a Powerpoint deck were ok, whereas Accessibility Checker 1.13 reported they failed its colour contrast check.

## Summary

<img src="/post/2025/accessibility/img/summary-score.png" alt="Screenshot of Accessibility Checker 1.3 summary score for my module within Blackboard online learning environment." width="630" style="display: block; margin: auto;">

I have described 7 hopefully helpful tips about document accessibility for Quarto and R Markdown users. Using my own tips I have increased the Accessibility Check 1.3 summary score for my module from 67% for last year's site to 98% for this year's site. I hope you have similar success.
